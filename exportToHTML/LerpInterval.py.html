<html>
<head>
<title>LerpInterval.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #6aab73;}
.s4 { color: #cf8e6d;}
.s5 { color: #7a7e85;}
.s6 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
LerpInterval.py</font>
</center></td></tr></table>
<pre><span class="s0">&quot;&quot;&quot;LerpInterval module: contains the LerpInterval class&quot;&quot;&quot;</span>

<span class="s1">__all__ </span><span class="s2">= [</span>
    <span class="s3">'LerpNodePathInterval'</span><span class="s2">, </span><span class="s3">'LerpPosInterval'</span><span class="s2">, </span><span class="s3">'LerpHprInterval'</span><span class="s2">,</span>
    <span class="s3">'LerpQuatInterval'</span><span class="s2">, </span><span class="s3">'LerpScaleInterval'</span><span class="s2">, </span><span class="s3">'LerpShearInterval'</span><span class="s2">,</span>
    <span class="s3">'LerpPosHprInterval'</span><span class="s2">, </span><span class="s3">'LerpPosQuatInterval'</span><span class="s2">,</span>
    <span class="s3">'LerpHprScaleInterval'</span><span class="s2">, </span><span class="s3">'LerpQuatScaleInterval'</span><span class="s2">,</span>
    <span class="s3">'LerpPosHprScaleInterval'</span><span class="s2">, </span><span class="s3">'LerpPosQuatScaleInterval'</span><span class="s2">,</span>
    <span class="s3">'LerpPosHprScaleShearInterval'</span><span class="s2">, </span><span class="s3">'LerpPosQuatScaleShearInterval'</span><span class="s2">,</span>
    <span class="s3">'LerpColorInterval'</span><span class="s2">, </span><span class="s3">'LerpColorScaleInterval'</span><span class="s2">,</span>
    <span class="s3">'LerpTexOffsetInterval'</span><span class="s2">, </span><span class="s3">'LerpTexRotateInterval'</span><span class="s2">, </span><span class="s3">'LerpTexScaleInterval'</span><span class="s2">,</span>
    <span class="s3">'LerpFunctionInterval'</span><span class="s2">, </span><span class="s3">'LerpFunc'</span><span class="s2">,</span><span class="s3">'LerpFunctionNoStateInterval'</span><span class="s2">,</span><span class="s3">'LerpFuncNS'</span>
    <span class="s2">]</span>

<span class="s4">from </span><span class="s1">panda3d</span><span class="s2">.</span><span class="s1">core </span><span class="s4">import </span><span class="s2">*</span>
<span class="s4">from </span><span class="s1">panda3d</span><span class="s2">.</span><span class="s1">direct </span><span class="s4">import </span><span class="s2">*</span>
<span class="s4">from </span><span class="s1">direct</span><span class="s2">.</span><span class="s1">directnotify</span><span class="s2">.</span><span class="s1">DirectNotifyGlobal </span><span class="s4">import </span><span class="s2">*</span>
<span class="s4">from </span><span class="s2">. </span><span class="s4">import </span><span class="s1">Interval</span>
<span class="s4">from </span><span class="s2">. </span><span class="s4">import </span><span class="s1">LerpBlendHelpers</span>

<span class="s5">#</span>
<span class="s5"># Most of the intervals defined in this module--the group up here at</span>
<span class="s5"># the front of the file--are now derived from a CInterval instead of</span>
<span class="s5"># an Interval, so they can run in the low-level C++ code at high</span>
<span class="s5"># performance.</span>
<span class="s5">#</span>

<span class="s4">class </span><span class="s1">LerpNodePathInterval</span><span class="s2">(</span><span class="s1">CLerpNodePathInterval</span><span class="s2">):</span>
    <span class="s5"># This is the base class for all of the lerps, defined below, that</span>
    <span class="s5"># affect a property on a NodePath, like pos or hpr.</span>
    <span class="s1">lerpNodePathNum </span><span class="s2">= </span><span class="s6">1</span>

    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">, </span><span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">,</span>
                 <span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">):</span>
        <span class="s4">if </span><span class="s1">name </span><span class="s2">== </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">name </span><span class="s2">= </span><span class="s3">'%s-%d' </span><span class="s2">% (</span><span class="s1">self</span><span class="s2">.</span><span class="s1">__class__</span><span class="s2">.</span><span class="s1">__name__</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">lerpNodePathNum</span><span class="s2">)</span>
            <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">lerpNodePathNum </span><span class="s2">+= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s5"># Allow the user to pass in a %d in the name and we'll go ahead</span>
            <span class="s5"># and uniquify the name for them.</span>
            <span class="s4">if </span><span class="s3">&quot;%d&quot; </span><span class="s4">in </span><span class="s1">name</span><span class="s2">:</span>
                <span class="s1">name </span><span class="s2">= </span><span class="s1">name </span><span class="s2">% </span><span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">lerpNodePathNum</span>
                <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">lerpNodePathNum </span><span class="s2">+= </span><span class="s6">1</span>

        <span class="s1">blendType </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">stringBlendType</span><span class="s2">(</span><span class="s1">blendType</span><span class="s2">)</span>
        <span class="s4">assert </span><span class="s1">blendType </span><span class="s2">!= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">BTInvalid</span>

        <span class="s4">if </span><span class="s1">other </span><span class="s2">== </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">other </span><span class="s2">= </span><span class="s1">NodePath</span><span class="s2">()</span>

        <span class="s1">CLerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                       <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, *</span><span class="s1">params</span><span class="s2">):</span>
        <span class="s5"># Returns true if any of the parameters listed is a callable</span>
        <span class="s5"># functor, false if none of them are.  This is used by derived</span>
        <span class="s5"># classes to determine if a functor was passed in for a</span>
        <span class="s5"># parameter.</span>

        <span class="s4">for </span><span class="s1">param </span><span class="s4">in </span><span class="s1">params</span><span class="s2">:</span>
            <span class="s4">if </span><span class="s1">callable</span><span class="s2">(</span><span class="s1">param</span><span class="s2">):</span>
                <span class="s4">return </span><span class="s6">1</span>
        <span class="s4">return </span><span class="s6">0</span>

    <span class="s4">def </span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">func</span><span class="s2">, </span><span class="s1">param</span><span class="s2">):</span>
        <span class="s5"># Stores the indicated parameter by passing it to the given</span>
        <span class="s5"># function (probably a C++ setter function).  If the param is</span>
        <span class="s5"># a callable functor, calls it; otherwise, uses the param</span>
        <span class="s5"># directly.</span>
        <span class="s4">if </span><span class="s1">param </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s4">if </span><span class="s1">callable</span><span class="s2">(</span><span class="s1">param</span><span class="s2">):</span>
                <span class="s1">func</span><span class="s2">(</span><span class="s1">param</span><span class="s2">())</span>
            <span class="s4">else</span><span class="s2">:</span>
                <span class="s1">func</span><span class="s2">(</span><span class="s1">param</span><span class="s2">)</span>

<span class="s5">#####################################################################</span>
<span class="s5">##</span>
<span class="s5">##  It is legal to pass in a functor (a callable Python function that</span>
<span class="s5">##  returns an appropriate value) for the any of the pos, hpr, scale,</span>
<span class="s5">##  or shear parameters in the intervals below.  These will be</span>
<span class="s5">##  evaluated at the time the interval starts in order to determine</span>
<span class="s5">##  the actual final (or initial) position.  However, doing so forces</span>
<span class="s5">##  the entire LerpInterval to be executed up in Python, instead of</span>
<span class="s5">##  down in the low-level C++ code, at some performance cost.</span>
<span class="s5">##</span>
<span class="s5">##  If bakeInStart is true, the starting values (if unspecified) are</span>
<span class="s5">##  computed at the time the interval runs for the first time, and</span>
<span class="s5">##  then stored.  If bakeInStart is false, the starting values are</span>
<span class="s5">##  recomputed each frame based on the current value and the time</span>
<span class="s5">##  delta since the last time the interval ran, which allows show code</span>
<span class="s5">##  to manipulate the node even while it is being lerped.</span>
<span class="s5">##</span>
<span class="s5">##  If fluid is true for a LerpPos-style interval, then the pos is set</span>
<span class="s5">##  via NodePath.setFluidPos() instead of NodePath.setPos(), causing</span>
<span class="s5">##  the collision system to treat the motion as continuous and test</span>
<span class="s5">##  for collisions against the entire motion path, instead of as</span>
<span class="s5">##  discrete position updates.  This has no meaning for Lerp intervals</span>
<span class="s5">##  that do not adjust pos.</span>
<span class="s5">##</span>
<span class="s5">#####################################################################</span>

<span class="s4">class </span><span class="s1">LerpPosInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">pos</span><span class="s2">, </span><span class="s1">startPos </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">, </span><span class="s1">startPos</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endPos </span><span class="s2">= </span><span class="s1">pos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startPos </span><span class="s2">= </span><span class="s1">startPos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startPos </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">(</span><span class="s1">startPos</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startPos</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>


<span class="s4">class </span><span class="s1">LerpHprInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">hpr</span><span class="s2">,</span>
                 <span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">, </span><span class="s1">startQuat</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr </span><span class="s2">= </span><span class="s1">hpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpQuatInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">quat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">hpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

        <span class="s4">if not </span><span class="s1">quat</span><span class="s2">:</span>
            <span class="s5"># If we didn't specify a quat, we're allowed to specify a</span>
            <span class="s5"># hpr instead, which is converted to the equivalent quat.</span>
            <span class="s4">assert </span><span class="s1">hpr</span>
            <span class="s1">quat </span><span class="s2">= </span><span class="s1">LOrientationf</span><span class="s2">()</span>
            <span class="s1">quat</span><span class="s2">.</span><span class="s1">setHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>

        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">quat</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">, </span><span class="s1">startQuat</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat </span><span class="s2">= </span><span class="s1">quat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">(</span><span class="s1">quat</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpScaleInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">, </span><span class="s1">startScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">scale</span><span class="s2">, </span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endScale </span><span class="s2">= </span><span class="s1">scale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startScale </span><span class="s2">= </span><span class="s1">startScale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">(</span><span class="s1">scale</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">(</span><span class="s1">startScale</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpShearInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">shear</span><span class="s2">, </span><span class="s1">startShear </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">shear</span><span class="s2">, </span><span class="s1">startShear</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endShear </span><span class="s2">= </span><span class="s1">shear</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startShear </span><span class="s2">= </span><span class="s1">startShear</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndShear</span><span class="s2">(</span><span class="s1">shear</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startShear </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartShear</span><span class="s2">(</span><span class="s1">startShear</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndShear</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endShear</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartShear</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startShear</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpPosHprInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">pos</span><span class="s2">, </span><span class="s1">hpr</span><span class="s2">,</span>
                 <span class="s1">startPos </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">, </span><span class="s1">startPos</span><span class="s2">, </span><span class="s1">hpr</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">, </span><span class="s1">startQuat</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endPos </span><span class="s2">= </span><span class="s1">pos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startPos </span><span class="s2">= </span><span class="s1">startPos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr </span><span class="s2">= </span><span class="s1">hpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startPos </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">(</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpPosQuatInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">pos</span><span class="s2">, </span><span class="s1">quat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startPos </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">hpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

        <span class="s4">if not </span><span class="s1">quat</span><span class="s2">:</span>
            <span class="s5"># If we didn't specify a quat, we're allowed to specify a</span>
            <span class="s5"># hpr instead, which is converted to the equivalent quat.</span>
            <span class="s4">assert </span><span class="s1">hpr</span>
            <span class="s1">quat </span><span class="s2">= </span><span class="s1">LOrientationf</span><span class="s2">()</span>
            <span class="s1">quat</span><span class="s2">.</span><span class="s1">setHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>

        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">, </span><span class="s1">startPos</span><span class="s2">, </span><span class="s1">quat</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">, </span><span class="s1">startQuat</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endPos </span><span class="s2">= </span><span class="s1">pos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startPos </span><span class="s2">= </span><span class="s1">startPos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat </span><span class="s2">= </span><span class="s1">quat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startPos </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">(</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">(</span><span class="s1">quat</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpHprScaleInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">hpr</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">,</span>
                 <span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">, </span><span class="s1">startQuat</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">, </span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr </span><span class="s2">= </span><span class="s1">hpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endScale </span><span class="s2">= </span><span class="s1">scale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startScale </span><span class="s2">= </span><span class="s1">startScale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">(</span><span class="s1">scale</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">(</span><span class="s1">startScale</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpQuatScaleInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">quat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">scale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">hpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

        <span class="s4">if not </span><span class="s1">quat</span><span class="s2">:</span>
            <span class="s5"># If we didn't specify a quat, we're allowed to specify a</span>
            <span class="s5"># hpr instead, which is converted to the equivalent quat.</span>
            <span class="s4">assert </span><span class="s1">hpr</span>
            <span class="s1">quat </span><span class="s2">= </span><span class="s1">LOrientationf</span><span class="s2">()</span>
            <span class="s1">quat</span><span class="s2">.</span><span class="s1">setHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>

        <span class="s4">assert </span><span class="s1">scale</span>

        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">quat</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">, </span><span class="s1">startQuat</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">, </span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat </span><span class="s2">= </span><span class="s1">quat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endScale </span><span class="s2">= </span><span class="s1">scale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startScale </span><span class="s2">= </span><span class="s1">startScale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">(</span><span class="s1">quat</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">(</span><span class="s1">scale</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">(</span><span class="s1">startScale</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpPosHprScaleInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">pos</span><span class="s2">, </span><span class="s1">hpr</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">,</span>
                 <span class="s1">startPos </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">, </span><span class="s1">startPos</span><span class="s2">, </span><span class="s1">hpr</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">,</span>
                                           <span class="s1">startQuat</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">, </span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endPos </span><span class="s2">= </span><span class="s1">pos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startPos </span><span class="s2">= </span><span class="s1">startPos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr </span><span class="s2">= </span><span class="s1">hpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endScale </span><span class="s2">= </span><span class="s1">scale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startScale </span><span class="s2">= </span><span class="s1">startScale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startPos </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">(</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">(</span><span class="s1">scale</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">(</span><span class="s1">startScale</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpPosQuatScaleInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">pos</span><span class="s2">, </span><span class="s1">quat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">scale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startPos </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">hpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

        <span class="s4">if not </span><span class="s1">quat</span><span class="s2">:</span>
            <span class="s5"># If we didn't specify a quat, we're allowed to specify a</span>
            <span class="s5"># hpr instead, which is converted to the equivalent quat.</span>
            <span class="s4">assert </span><span class="s1">hpr</span>
            <span class="s1">quat </span><span class="s2">= </span><span class="s1">LOrientationf</span><span class="s2">()</span>
            <span class="s1">quat</span><span class="s2">.</span><span class="s1">setHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>

        <span class="s4">assert </span><span class="s1">scale</span>

        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">, </span><span class="s1">startPos</span><span class="s2">, </span><span class="s1">quat</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">,</span>
                                           <span class="s1">startQuat</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">, </span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endPos </span><span class="s2">= </span><span class="s1">pos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startPos </span><span class="s2">= </span><span class="s1">startPos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat </span><span class="s2">= </span><span class="s1">quat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endScale </span><span class="s2">= </span><span class="s1">scale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startScale </span><span class="s2">= </span><span class="s1">startScale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startPos </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">(</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">(</span><span class="s1">quat</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">(</span><span class="s1">scale</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">(</span><span class="s1">startScale</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startScale</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpPosHprScaleShearInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">pos</span><span class="s2">, </span><span class="s1">hpr</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">, </span><span class="s1">shear</span><span class="s2">,</span>
                 <span class="s1">startPos </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startShear </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">, </span><span class="s1">startPos</span><span class="s2">, </span><span class="s1">hpr</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">,</span>
                                           <span class="s1">startQuat</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">, </span><span class="s1">startScale</span><span class="s2">,</span>
                                           <span class="s1">shear</span><span class="s2">, </span><span class="s1">startShear</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endPos </span><span class="s2">= </span><span class="s1">pos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startPos </span><span class="s2">= </span><span class="s1">startPos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr </span><span class="s2">= </span><span class="s1">hpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endScale </span><span class="s2">= </span><span class="s1">scale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startScale </span><span class="s2">= </span><span class="s1">startScale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endShear </span><span class="s2">= </span><span class="s1">shear</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startShear </span><span class="s2">= </span><span class="s1">startShear</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startPos </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">(</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">(</span><span class="s1">scale</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">(</span><span class="s1">startScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndShear</span><span class="s2">(</span><span class="s1">shear</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startShear </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartShear</span><span class="s2">(</span><span class="s1">startShear</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndShear</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endShear</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartShear</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startShear</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpPosQuatScaleShearInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">pos</span><span class="s2">, </span><span class="s1">quat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">scale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">shear </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startPos </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startHpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startQuat </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">startScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">startShear </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">fluid </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">hpr </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s1">fluid</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>

        <span class="s4">if not </span><span class="s1">quat</span><span class="s2">:</span>
            <span class="s5"># If we didn't specify a quat, we're allowed to specify a</span>
            <span class="s5"># hpr instead, which is converted to the equivalent quat.</span>
            <span class="s4">assert </span><span class="s1">hpr</span>
            <span class="s1">quat </span><span class="s2">= </span><span class="s1">LOrientationf</span><span class="s2">()</span>
            <span class="s1">quat</span><span class="s2">.</span><span class="s1">setHpr</span><span class="s2">(</span><span class="s1">hpr</span><span class="s2">)</span>

        <span class="s4">assert </span><span class="s1">scale</span>
        <span class="s4">assert </span><span class="s1">shear</span>

        <span class="s5"># Check for functors in the input parameters.</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">anyCallable</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">, </span><span class="s1">startPos</span><span class="s2">, </span><span class="s1">quat</span><span class="s2">, </span><span class="s1">startHpr</span><span class="s2">,</span>
                                           <span class="s1">startQuat</span><span class="s2">, </span><span class="s1">scale</span><span class="s2">, </span><span class="s1">startScale</span><span class="s2">,</span>
                                           <span class="s1">shear</span><span class="s2">, </span><span class="s1">startShear</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endPos </span><span class="s2">= </span><span class="s1">pos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startPos </span><span class="s2">= </span><span class="s1">startPos</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat </span><span class="s2">= </span><span class="s1">quat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr </span><span class="s2">= </span><span class="s1">startHpr</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat </span><span class="s2">= </span><span class="s1">startQuat</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endScale </span><span class="s2">= </span><span class="s1">scale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startScale </span><span class="s2">= </span><span class="s1">startScale</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">endShear </span><span class="s2">= </span><span class="s1">shear</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">startShear </span><span class="s2">= </span><span class="s1">startShear</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">inPython </span><span class="s2">= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">(</span><span class="s1">pos</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startPos </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">(</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">(</span><span class="s1">quat</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startHpr </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">(</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startQuat </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">(</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">(</span><span class="s1">scale</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">(</span><span class="s1">startScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndShear</span><span class="s2">(</span><span class="s1">shear</span><span class="s2">)</span>
            <span class="s4">if </span><span class="s1">startShear </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
                <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartShear</span><span class="s2">(</span><span class="s1">startShear</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">):</span>
        <span class="s5"># This function is only used if Python functors were passed in</span>
        <span class="s5"># for some of the input parameters.</span>
        <span class="s4">if </span><span class="s1">self</span><span class="s2">.</span><span class="s1">paramSetup </span><span class="s4">and </span><span class="s1">event </span><span class="s2">== </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">ETInitialize</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartPos</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startPos</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartHpr</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startHpr</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartQuat</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startQuat</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartScale</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startScale</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setEndShear</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">endShear</span><span class="s2">)</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setupParam</span><span class="s2">(</span><span class="s1">self</span><span class="s2">.</span><span class="s1">setStartShear</span><span class="s2">, </span><span class="s1">self</span><span class="s2">.</span><span class="s1">startShear</span><span class="s2">)</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">privDoEvent</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">, </span><span class="s1">event</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpColorInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">color</span><span class="s2">, </span><span class="s1">startColor </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">override </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s6">0</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndColor</span><span class="s2">(</span><span class="s1">color</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">startColor </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartColor</span><span class="s2">(</span><span class="s1">startColor</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">override </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setOverride</span><span class="s2">(</span><span class="s1">override</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpColorScaleInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">colorScale</span><span class="s2">, </span><span class="s1">startColorScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">override </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s6">0</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndColorScale</span><span class="s2">(</span><span class="s1">colorScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">startColorScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartColorScale</span><span class="s2">(</span><span class="s1">startColorScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">override </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setOverride</span><span class="s2">(</span><span class="s1">override</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpTexOffsetInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">texOffset</span><span class="s2">, </span><span class="s1">startTexOffset </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">textureStage </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">override </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s6">0</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndTexOffset</span><span class="s2">(</span><span class="s1">texOffset</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">startTexOffset </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartTexOffset</span><span class="s2">(</span><span class="s1">startTexOffset</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">textureStage </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setTextureStage</span><span class="s2">(</span><span class="s1">textureStage</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">override </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setOverride</span><span class="s2">(</span><span class="s1">override</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpTexRotateInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">texRotate</span><span class="s2">, </span><span class="s1">startTexRotate </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">textureStage </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">override </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s6">0</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndTexRotate</span><span class="s2">(</span><span class="s1">texRotate</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">startTexRotate </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartTexRotate</span><span class="s2">(</span><span class="s1">startTexRotate</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">textureStage </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setTextureStage</span><span class="s2">(</span><span class="s1">textureStage</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">override </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setOverride</span><span class="s2">(</span><span class="s1">override</span><span class="s2">)</span>

<span class="s4">class </span><span class="s1">LerpTexScaleInterval</span><span class="s2">(</span><span class="s1">LerpNodePathInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">texScale</span><span class="s2">, </span><span class="s1">startTexScale </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">other </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">,</span>
                 <span class="s1">textureStage </span><span class="s2">= </span><span class="s4">None</span><span class="s2">,</span>
                 <span class="s1">bakeInStart </span><span class="s2">= </span><span class="s6">1</span><span class="s2">, </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">, </span><span class="s1">override </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s1">LerpNodePathInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">, </span><span class="s1">blendType</span><span class="s2">,</span>
                                      <span class="s1">bakeInStart</span><span class="s2">, </span><span class="s6">0</span><span class="s2">, </span><span class="s1">nodePath</span><span class="s2">, </span><span class="s1">other</span><span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">setEndTexScale</span><span class="s2">(</span><span class="s1">texScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">startTexScale </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setStartTexScale</span><span class="s2">(</span><span class="s1">startTexScale</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">textureStage </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setTextureStage</span><span class="s2">(</span><span class="s1">textureStage</span><span class="s2">)</span>
        <span class="s4">if </span><span class="s1">override </span><span class="s2">!= </span><span class="s4">None</span><span class="s2">:</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">setOverride</span><span class="s2">(</span><span class="s1">override</span><span class="s2">)</span>




<span class="s5">#</span>
<span class="s5"># The remaining intervals defined in this module are the old-school</span>
<span class="s5"># Python-based intervals.</span>
<span class="s5">#</span>


<span class="s4">class </span><span class="s1">LerpFunctionNoStateInterval</span><span class="s2">(</span><span class="s1">Interval</span><span class="s2">.</span><span class="s1">Interval</span><span class="s2">):</span>
    <span class="s0">&quot;&quot;&quot; 
    Class used to execute a function over time.  Function can access fromData 
    and toData to perform blend.  If fromData and toData not specified, will 
    execute the given function passing in values ranging from 0 to 1 
 
    This is different from a standard LerpFunction, in that it assumes 
    the function is not modifying any state that needs to be kept; so 
    that it will only call the function while the lerp is actually 
    running, and will not be guaranteed to call the function with its 
    final value of the lerp.  In particular, if the lerp interval 
    happens to get skipped over completely, it will not bother to call 
    the function at all. 
    &quot;&quot;&quot;</span>

    <span class="s5"># Interval counter</span>
    <span class="s1">lerpFunctionIntervalNum </span><span class="s2">= </span><span class="s6">1</span>
    <span class="s5"># create LerpFunctionInterval DirectNotify category</span>
    <span class="s1">notify </span><span class="s2">= </span><span class="s1">directNotify</span><span class="s2">.</span><span class="s1">newCategory</span><span class="s2">(</span><span class="s3">'LerpFunctionNoStateInterval'</span><span class="s2">)</span>
    <span class="s5"># Class methods</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">function</span><span class="s2">, </span><span class="s1">duration </span><span class="s2">= </span><span class="s6">0.0</span><span class="s2">, </span><span class="s1">fromData </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">toData </span><span class="s2">= </span><span class="s6">1</span><span class="s2">,</span>
                 <span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">, </span><span class="s1">extraArgs </span><span class="s2">= [], </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s0">&quot;&quot;&quot;__init__(function, duration, fromData, toData, name) 
        &quot;&quot;&quot;</span>
        <span class="s5"># Record instance variables</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">function </span><span class="s2">= </span><span class="s1">function</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">fromData </span><span class="s2">= </span><span class="s1">fromData</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">toData </span><span class="s2">= </span><span class="s1">toData</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">blendType </span><span class="s2">= </span><span class="s1">LerpBlendHelpers</span><span class="s2">.</span><span class="s1">getBlend</span><span class="s2">(</span><span class="s1">blendType</span><span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">extraArgs </span><span class="s2">= </span><span class="s1">extraArgs</span>
        <span class="s5"># Generate unique name if necessary</span>
        <span class="s4">if </span><span class="s2">(</span><span class="s1">name </span><span class="s2">== </span><span class="s4">None</span><span class="s2">):</span>
            <span class="s1">name </span><span class="s2">= (</span><span class="s3">'LerpFunctionInterval-%d' </span><span class="s2">%</span>
                    <span class="s1">LerpFunctionNoStateInterval</span><span class="s2">.</span><span class="s1">lerpFunctionIntervalNum</span><span class="s2">)</span>
            <span class="s1">LerpFunctionNoStateInterval</span><span class="s2">.</span><span class="s1">lerpFunctionIntervalNum </span><span class="s2">+= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s5"># Allow the user to pass in a %d in the name and we'll go ahead</span>
            <span class="s5"># and uniquify the name for them.</span>
            <span class="s4">if </span><span class="s3">&quot;%d&quot; </span><span class="s4">in </span><span class="s1">name</span><span class="s2">:</span>
                <span class="s1">name </span><span class="s2">= </span><span class="s1">name </span><span class="s2">% </span><span class="s1">LerpFunctionNoStateInterval</span><span class="s2">.</span><span class="s1">lerpFunctionIntervalNum</span>
                <span class="s1">LerpFunctionNoStateInterval</span><span class="s2">.</span><span class="s1">lerpFunctionIntervalNum </span><span class="s2">+= </span><span class="s6">1</span>

        <span class="s5"># Initialize superclass</span>
        <span class="s1">Interval</span><span class="s2">.</span><span class="s1">Interval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">)</span>

    <span class="s5">#def privDoEvent(self,t,event):</span>

        <span class="s5">#print &quot;doing event&quot;,t,event</span>
        <span class="s5">#bt = self.blendType(t/self.duration)</span>
        <span class="s5">#data = (self.fromData * (1 - bt)) + (self.toData * bt)</span>
        <span class="s5">## Evaluate function</span>
        <span class="s5">#apply(self.function, [data] + self.extraArgs)</span>
        <span class="s5">#self.state = CInterval.SStarted</span>
        <span class="s5">#self.currT = t</span>

    <span class="s4">def </span><span class="s1">privStep</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">):</span>
        <span class="s5"># Evaluate the function</span>
        <span class="s5">#print &quot;doing priv step&quot;,t</span>
        <span class="s4">if </span><span class="s2">(</span><span class="s1">t </span><span class="s2">&gt;= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">duration</span><span class="s2">):</span>
            <span class="s5"># Set to end value</span>
            <span class="s4">if </span><span class="s2">(</span><span class="s1">t </span><span class="s2">&gt; </span><span class="s1">self</span><span class="s2">.</span><span class="s1">duration</span><span class="s2">):</span>
                <span class="s1">print</span><span class="s2">(</span><span class="s3">&quot;after end&quot;</span><span class="s2">)</span>
            <span class="s5">#apply(self.function, [self.toData] + self.extraArgs)</span>
        <span class="s4">elif </span><span class="s1">self</span><span class="s2">.</span><span class="s1">duration </span><span class="s2">== </span><span class="s6">0.0</span><span class="s2">:</span>
            <span class="s5"># Zero duration, just use endpoint</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">function</span><span class="s2">(*[</span><span class="s1">self</span><span class="s2">.</span><span class="s1">toData</span><span class="s2">] + </span><span class="s1">self</span><span class="s2">.</span><span class="s1">extraArgs</span><span class="s2">)</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s5"># In the middle of the lerp, compute appropriate blended value</span>
            <span class="s1">bt </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">blendType</span><span class="s2">(</span><span class="s1">t</span><span class="s2">/</span><span class="s1">self</span><span class="s2">.</span><span class="s1">duration</span><span class="s2">)</span>
            <span class="s1">data </span><span class="s2">= (</span><span class="s1">self</span><span class="s2">.</span><span class="s1">fromData </span><span class="s2">* (</span><span class="s6">1 </span><span class="s2">- </span><span class="s1">bt</span><span class="s2">)) + (</span><span class="s1">self</span><span class="s2">.</span><span class="s1">toData </span><span class="s2">* </span><span class="s1">bt</span><span class="s2">)</span>
            <span class="s5"># Evaluate function</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">function</span><span class="s2">(*[</span><span class="s1">data</span><span class="s2">] + </span><span class="s1">self</span><span class="s2">.</span><span class="s1">extraArgs</span><span class="s2">)</span>

        <span class="s5"># Print debug information</span>
<span class="s5">#        assert self.notify.debug('updateFunc() - %s: t = %f' % (self.name, t))</span>

        <span class="s1">self</span><span class="s2">.</span><span class="s1">state </span><span class="s2">= </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">SStarted</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">currT </span><span class="s2">= </span><span class="s1">t</span>

<span class="s5"># New interface</span>
<span class="s4">class </span><span class="s1">LerpFuncNS</span><span class="s2">(</span><span class="s1">LerpFunctionNoStateInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, *</span><span class="s1">args</span><span class="s2">, **</span><span class="s1">kw</span><span class="s2">):</span>
        <span class="s1">LerpFunctionNoStateInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, *</span><span class="s1">args</span><span class="s2">, **</span><span class="s1">kw</span><span class="s2">)</span>


<span class="s4">class </span><span class="s1">LerpFunctionInterval</span><span class="s2">(</span><span class="s1">Interval</span><span class="s2">.</span><span class="s1">Interval</span><span class="s2">):</span>
    <span class="s0">&quot;&quot;&quot; 
    Class used to execute a function over time.  Function can access fromData 
    and toData to perform blend.  If fromData and toData not specified, will 
    execute the given function passing in values ranging from 0 to 1 
    &quot;&quot;&quot;</span>

    <span class="s5"># Interval counter</span>
    <span class="s1">lerpFunctionIntervalNum </span><span class="s2">= </span><span class="s6">1</span>
    <span class="s5"># create LerpFunctionInterval DirectNotify category</span>
    <span class="s1">notify </span><span class="s2">= </span><span class="s1">directNotify</span><span class="s2">.</span><span class="s1">newCategory</span><span class="s2">(</span><span class="s3">'LerpFunctionInterval'</span><span class="s2">)</span>
    <span class="s5"># Class methods</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">function</span><span class="s2">, </span><span class="s1">duration </span><span class="s2">= </span><span class="s6">0.0</span><span class="s2">, </span><span class="s1">fromData </span><span class="s2">= </span><span class="s6">0</span><span class="s2">, </span><span class="s1">toData </span><span class="s2">= </span><span class="s6">1</span><span class="s2">,</span>
                 <span class="s1">blendType </span><span class="s2">= </span><span class="s3">'noBlend'</span><span class="s2">, </span><span class="s1">extraArgs </span><span class="s2">= [], </span><span class="s1">name </span><span class="s2">= </span><span class="s4">None</span><span class="s2">):</span>
        <span class="s0">&quot;&quot;&quot;__init__(function, duration, fromData, toData, name) 
        &quot;&quot;&quot;</span>
        <span class="s5"># Record instance variables</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">function </span><span class="s2">= </span><span class="s1">function</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">fromData </span><span class="s2">= </span><span class="s1">fromData</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">toData </span><span class="s2">= </span><span class="s1">toData</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">blendType </span><span class="s2">= </span><span class="s1">LerpBlendHelpers</span><span class="s2">.</span><span class="s1">getBlend</span><span class="s2">(</span><span class="s1">blendType</span><span class="s2">)</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">extraArgs </span><span class="s2">= </span><span class="s1">extraArgs</span>
        <span class="s5"># Generate unique name if necessary</span>
        <span class="s4">if </span><span class="s2">(</span><span class="s1">name </span><span class="s2">== </span><span class="s4">None</span><span class="s2">):</span>
            <span class="s1">name </span><span class="s2">= (</span><span class="s3">'LerpFunctionInterval-%s-%d' </span><span class="s2">%</span>
                    <span class="s2">(</span><span class="s1">function</span><span class="s2">.</span><span class="s1">__name__</span><span class="s2">,</span>
                     <span class="s1">LerpFunctionInterval</span><span class="s2">.</span><span class="s1">lerpFunctionIntervalNum</span><span class="s2">))</span>
            <span class="s1">LerpFunctionInterval</span><span class="s2">.</span><span class="s1">lerpFunctionIntervalNum </span><span class="s2">+= </span><span class="s6">1</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s5"># Allow the user to pass in a %d in the name and we'll go ahead</span>
            <span class="s5"># and uniquify the name for them.</span>
            <span class="s4">if </span><span class="s3">&quot;%d&quot; </span><span class="s4">in </span><span class="s1">name</span><span class="s2">:</span>
                <span class="s1">name </span><span class="s2">= </span><span class="s1">name </span><span class="s2">% </span><span class="s1">LerpFunctionInterval</span><span class="s2">.</span><span class="s1">lerpFunctionIntervalNum</span>
                <span class="s1">LerpFunctionInterval</span><span class="s2">.</span><span class="s1">lerpFunctionIntervalNum </span><span class="s2">+= </span><span class="s6">1</span>

        <span class="s5"># Initialize superclass</span>
        <span class="s1">Interval</span><span class="s2">.</span><span class="s1">Interval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">name</span><span class="s2">, </span><span class="s1">duration</span><span class="s2">)</span>

    <span class="s4">def </span><span class="s1">privStep</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, </span><span class="s1">t</span><span class="s2">):</span>
        <span class="s5"># Evaluate the function</span>
        <span class="s5">#print &quot;doing priv step&quot;,t</span>
        <span class="s4">if </span><span class="s2">(</span><span class="s1">t </span><span class="s2">&gt;= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">duration</span><span class="s2">):</span>
            <span class="s5"># Set to end value</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">function</span><span class="s2">(*[</span><span class="s1">self</span><span class="s2">.</span><span class="s1">toData</span><span class="s2">] + </span><span class="s1">self</span><span class="s2">.</span><span class="s1">extraArgs</span><span class="s2">)</span>
        <span class="s4">elif </span><span class="s1">self</span><span class="s2">.</span><span class="s1">duration </span><span class="s2">== </span><span class="s6">0.0</span><span class="s2">:</span>
            <span class="s5"># Zero duration, just use endpoint</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">function</span><span class="s2">(*[</span><span class="s1">self</span><span class="s2">.</span><span class="s1">toData</span><span class="s2">] + </span><span class="s1">self</span><span class="s2">.</span><span class="s1">extraArgs</span><span class="s2">)</span>
        <span class="s4">else</span><span class="s2">:</span>
            <span class="s5"># In the middle of the lerp, compute appropriate blended value</span>
            <span class="s1">bt </span><span class="s2">= </span><span class="s1">self</span><span class="s2">.</span><span class="s1">blendType</span><span class="s2">(</span><span class="s1">t</span><span class="s2">/</span><span class="s1">self</span><span class="s2">.</span><span class="s1">duration</span><span class="s2">)</span>
            <span class="s1">data </span><span class="s2">= (</span><span class="s1">self</span><span class="s2">.</span><span class="s1">fromData </span><span class="s2">* (</span><span class="s6">1 </span><span class="s2">- </span><span class="s1">bt</span><span class="s2">)) + (</span><span class="s1">self</span><span class="s2">.</span><span class="s1">toData </span><span class="s2">* </span><span class="s1">bt</span><span class="s2">)</span>
            <span class="s5"># Evaluate function</span>
            <span class="s1">self</span><span class="s2">.</span><span class="s1">function</span><span class="s2">(*[</span><span class="s1">data</span><span class="s2">] + </span><span class="s1">self</span><span class="s2">.</span><span class="s1">extraArgs</span><span class="s2">)</span>

        <span class="s5"># Print debug information</span>
<span class="s5">#        assert self.notify.debug('updateFunc() - %s: t = %f' % (self.name, t))</span>

        <span class="s1">self</span><span class="s2">.</span><span class="s1">state </span><span class="s2">= </span><span class="s1">CInterval</span><span class="s2">.</span><span class="s1">SStarted</span>
        <span class="s1">self</span><span class="s2">.</span><span class="s1">currT </span><span class="s2">= </span><span class="s1">t</span>

<span class="s5"># New interface</span>
<span class="s4">class </span><span class="s1">LerpFunc</span><span class="s2">(</span><span class="s1">LerpFunctionInterval</span><span class="s2">):</span>
    <span class="s4">def </span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, *</span><span class="s1">args</span><span class="s2">, **</span><span class="s1">kw</span><span class="s2">):</span>
        <span class="s1">LerpFunctionInterval</span><span class="s2">.</span><span class="s1">__init__</span><span class="s2">(</span><span class="s1">self</span><span class="s2">, *</span><span class="s1">args</span><span class="s2">, **</span><span class="s1">kw</span><span class="s2">)</span>
</pre>
</body>
</html>