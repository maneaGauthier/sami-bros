<html>
<head>
<title>AnimMgrBase.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5f826b; font-style: italic;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #2aacb8;}
.s5 { color: #7a7e85;}
.s6 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
AnimMgrBase.py</font>
</center></td></tr></table>
<pre><span class="s0">&quot;&quot;&quot; 
Defines AnimMgrBase 
&quot;&quot;&quot;</span>

<span class="s2">import </span><span class="s1">os</span><span class="s3">, </span><span class="s1">math</span>

<span class="s2">from </span><span class="s1">direct</span><span class="s3">.</span><span class="s1">interval</span><span class="s3">.</span><span class="s1">IntervalGlobal </span><span class="s2">import </span><span class="s3">*</span>
<span class="s2">from </span><span class="s1">panda3d</span><span class="s3">.</span><span class="s1">core </span><span class="s2">import </span><span class="s1">VBase3</span>
<span class="s2">from </span><span class="s3">. </span><span class="s2">import </span><span class="s1">ObjectGlobals </span><span class="s2">as </span><span class="s1">OG</span>
<span class="s2">from </span><span class="s3">. </span><span class="s2">import </span><span class="s1">AnimGlobals </span><span class="s2">as </span><span class="s1">AG</span>

<span class="s2">class </span><span class="s1">AnimMgrBase</span><span class="s3">:</span>
    <span class="s0">&quot;&quot;&quot; AnimMgr will create, manage, update animations in the scene &quot;&quot;&quot;</span>

    <span class="s2">def </span><span class="s1">__init__</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">editor</span><span class="s3">):</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">editor </span><span class="s3">= </span><span class="s1">editor</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">graphEditorCounter </span><span class="s3">= </span><span class="s4">0</span>

        <span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo </span><span class="s3">= {}</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">curveAnimation </span><span class="s3">= {}</span>

        <span class="s5">#normal properties</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncs</span><span class="s3">={</span>
            <span class="s6">'H' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncH</span><span class="s3">,</span>
            <span class="s6">'P' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncP</span><span class="s3">,</span>
            <span class="s6">'R' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncR</span><span class="s3">,</span>
            <span class="s6">'SX' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncSX</span><span class="s3">,</span>
            <span class="s6">'SY' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncSY</span><span class="s3">,</span>
            <span class="s6">'SZ' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncSZ</span><span class="s3">,</span>
            <span class="s6">'CR' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncCR</span><span class="s3">,</span>
            <span class="s6">'CG' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncCG</span><span class="s3">,</span>
            <span class="s6">'CB' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncCB</span><span class="s3">,</span>
            <span class="s6">'CA' </span><span class="s3">: </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncCA</span>
            <span class="s3">}</span>

        <span class="s5">#Properties which has animation curves</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">curveLerpFuncs</span><span class="s3">={</span>
            <span class="s6">'X' </span><span class="s3">: [ </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncX</span><span class="s3">, </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpCurveFuncX </span><span class="s3">],</span>
            <span class="s6">'Y' </span><span class="s3">: [ </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncY</span><span class="s3">, </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpCurveFuncY </span><span class="s3">],</span>
            <span class="s6">'Z' </span><span class="s3">: [ </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncZ</span><span class="s3">, </span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpCurveFuncZ </span><span class="s3">]</span>
            <span class="s3">}</span>

    <span class="s2">def </span><span class="s1">reset</span><span class="s3">(</span><span class="s1">self</span><span class="s3">):</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo </span><span class="s3">= {}</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">curveAnimation </span><span class="s3">= {}</span>

    <span class="s2">def </span><span class="s1">generateKeyFrames</span><span class="s3">(</span><span class="s1">self</span><span class="s3">):</span>
        <span class="s5">#generate keyFrame list</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">keyFrames </span><span class="s3">= []</span>
        <span class="s2">for </span><span class="s1">property </span><span class="s2">in </span><span class="s1">list</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">()):</span>
            <span class="s2">for </span><span class="s1">frameInfo </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">property</span><span class="s3">]:</span>
                <span class="s1">frame </span><span class="s3">= </span><span class="s1">frameInfo</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]</span>
                <span class="s1">exist </span><span class="s3">= </span><span class="s2">False</span>
                <span class="s2">for </span><span class="s1">keyFrame </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFrames</span><span class="s3">:</span>
                    <span class="s2">if </span><span class="s1">frame </span><span class="s3">== </span><span class="s1">keyFrame</span><span class="s3">:</span>
                        <span class="s1">exist </span><span class="s3">= </span><span class="s2">True</span>
                        <span class="s2">break</span>
                <span class="s2">if </span><span class="s1">exist </span><span class="s3">== </span><span class="s2">False</span><span class="s3">:</span>
                    <span class="s1">self</span><span class="s3">.</span><span class="s1">keyFrames</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">frame</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">generateSlope</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">list</span><span class="s3">):</span>
        <span class="s5">#generate handler slope of every keyframe for animation curve</span>
        <span class="s1">listLen </span><span class="s3">= </span><span class="s1">len</span><span class="s3">(</span><span class="s1">list</span><span class="s3">)</span>
        <span class="s2">if </span><span class="s1">listLen </span><span class="s3">== </span><span class="s4">2</span><span class="s3">:</span>
            <span class="s1">slope </span><span class="s3">=[</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]-</span><span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]),(</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">])-</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]))]</span>
            <span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">] = </span><span class="s1">slope</span>
            <span class="s1">list</span><span class="s3">[</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">] = </span><span class="s1">slope</span>
            <span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">OUTSLOPE</span><span class="s3">] = </span><span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">]</span>
            <span class="s1">list</span><span class="s3">[</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">OUTSLOPE</span><span class="s3">] = </span><span class="s1">list</span><span class="s3">[</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">]</span>
            <span class="s2">return</span>

        <span class="s2">if </span><span class="s1">listLen </span><span class="s3">&gt;= </span><span class="s4">3</span><span class="s3">:</span>
            <span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">] = [</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">] - </span><span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]),(</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]) - </span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]))]</span>
            <span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">OUTSLOPE</span><span class="s3">] = </span><span class="s1">list</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">]</span>
            <span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">range</span><span class="s3">(</span><span class="s4">1</span><span class="s3">, </span><span class="s1">listLen</span><span class="s3">-</span><span class="s4">1</span><span class="s3">):</span>
                <span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">] = [</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">] - </span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]),(</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]) - </span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]))]</span>
                <span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">OUTSLOPE</span><span class="s3">] = </span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">]</span>
            <span class="s1">list</span><span class="s3">[</span><span class="s1">listLen</span><span class="s3">-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">] = [</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">listLen</span><span class="s3">-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">] - </span><span class="s1">list</span><span class="s3">[</span><span class="s1">listLen</span><span class="s3">-</span><span class="s4">2</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]),(</span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">listLen</span><span class="s3">-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]) - </span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">listLen</span><span class="s3">-</span><span class="s4">2</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]))]</span>
            <span class="s1">list</span><span class="s3">[</span><span class="s1">listLen</span><span class="s3">-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">OUTSLOPE</span><span class="s3">] = </span><span class="s1">list</span><span class="s3">[</span><span class="s1">listLen</span><span class="s3">-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">]</span>
            <span class="s2">return</span>

    <span class="s2">def </span><span class="s1">removeAnimInfo</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">uid</span><span class="s3">):</span>
        <span class="s2">for </span><span class="s1">property </span><span class="s2">in </span><span class="s1">list</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">()):</span>
            <span class="s2">if </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">UID</span><span class="s3">] == </span><span class="s1">uid</span><span class="s3">:</span>
                <span class="s2">del </span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">property</span><span class="s3">]</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">generateKeyFrames</span><span class="s3">()</span>
        <span class="s2">if </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">mode </span><span class="s3">== </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">ANIM_MODE</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">ui</span><span class="s3">.</span><span class="s1">animUI</span><span class="s3">.</span><span class="s1">OnPropKey</span><span class="s3">()</span>

    <span class="s2">def </span><span class="s1">singleCurveAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">nodePath</span><span class="s3">, </span><span class="s1">curve</span><span class="s3">, </span><span class="s1">time</span><span class="s3">):</span>
        <span class="s1">rope </span><span class="s3">= </span><span class="s1">curve</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">points </span><span class="s3">= </span><span class="s1">rope</span><span class="s3">.</span><span class="s1">getPoints</span><span class="s3">(</span><span class="s1">time</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">hprs </span><span class="s3">= []</span>
        <span class="s1">temp </span><span class="s3">= </span><span class="s1">render</span><span class="s3">.</span><span class="s1">attachNewNode</span><span class="s3">(</span><span class="s6">&quot;temp&quot;</span><span class="s3">)</span>
        <span class="s1">temp</span><span class="s3">.</span><span class="s1">setHpr</span><span class="s3">(</span><span class="s4">0</span><span class="s3">,</span><span class="s4">0</span><span class="s3">,</span><span class="s4">0</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">range</span><span class="s3">(</span><span class="s1">len</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">points</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">):</span>
            <span class="s1">temp</span><span class="s3">.</span><span class="s1">setPos</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">points</span><span class="s3">[</span><span class="s1">i</span><span class="s3">])</span>
            <span class="s1">temp</span><span class="s3">.</span><span class="s1">lookAt</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">points</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">])</span>
            <span class="s1">hpr </span><span class="s3">= </span><span class="s1">temp</span><span class="s3">.</span><span class="s1">getHpr</span><span class="s3">()</span>
            <span class="s5">## self.hprs.append(hpr)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">hprs</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">VBase3</span><span class="s3">(</span><span class="s1">hpr</span><span class="s3">[</span><span class="s4">0</span><span class="s3">]+</span><span class="s4">180</span><span class="s3">,</span><span class="s1">hpr</span><span class="s3">[</span><span class="s4">1</span><span class="s3">],</span><span class="s1">hpr</span><span class="s3">[</span><span class="s4">2</span><span class="s3">]))</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">hprs</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">hprs</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">points</span><span class="s3">)-</span><span class="s4">2</span><span class="s3">])</span>

        <span class="s1">curveSequenceName </span><span class="s3">= </span><span class="s1">str</span><span class="s3">(</span><span class="s1">nodePath</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_UID</span><span class="s3">])+</span><span class="s6">' '</span><span class="s3">+</span><span class="s1">str</span><span class="s3">(</span><span class="s1">curve</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_UID</span><span class="s3">])+</span><span class="s6">' '</span><span class="s3">+</span><span class="s1">str</span><span class="s3">(</span><span class="s1">time</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">curveSequence </span><span class="s3">= </span><span class="s1">Sequence</span><span class="s3">(</span><span class="s1">name </span><span class="s3">= </span><span class="s1">curveSequenceName</span><span class="s3">)</span>

        <span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">range</span><span class="s3">(</span><span class="s1">len</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">points</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">):</span>
            <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpPosHprInterval</span><span class="s3">(</span><span class="s1">nodePath</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">], </span><span class="s1">float</span><span class="s3">(</span><span class="s4">1</span><span class="s3">)/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">), </span><span class="s1">self</span><span class="s3">.</span><span class="s1">points</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">], </span><span class="s1">self</span><span class="s3">.</span><span class="s1">hprs</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">], </span><span class="s1">self</span><span class="s3">.</span><span class="s1">points</span><span class="s3">[</span><span class="s1">i</span><span class="s3">], </span><span class="s1">self</span><span class="s3">.</span><span class="s1">hprs</span><span class="s3">[</span><span class="s1">i</span><span class="s3">])</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">curveSequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>

        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveSequence</span>

    <span class="s2">def </span><span class="s1">createParallel</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">startFrame</span><span class="s3">, </span><span class="s1">endFrame</span><span class="s3">):</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">parallel </span><span class="s3">= []</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">parallel </span><span class="s3">= </span><span class="s1">Parallel</span><span class="s3">(</span><span class="s1">name</span><span class="s3">=</span><span class="s6">&quot;Current Parallel&quot;</span><span class="s3">)</span>

        <span class="s1">self</span><span class="s3">.</span><span class="s1">createCurveAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">parallel</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">createActorAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">parallel</span><span class="s3">, </span><span class="s1">startFrame</span><span class="s3">, </span><span class="s1">endFrame</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">createKeyFrameAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">parallel</span><span class="s3">, </span><span class="s1">startFrame</span><span class="s3">, </span><span class="s1">endFrame</span><span class="s3">)</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">createCurveKeyFrameAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">parallel</span><span class="s3">, </span><span class="s1">startFrame</span><span class="s3">, </span><span class="s1">endFrame</span><span class="s3">)</span>

        <span class="s2">return </span><span class="s1">self</span><span class="s3">.</span><span class="s1">parallel</span>

    <span class="s2">def </span><span class="s1">createCurveAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">parallel</span><span class="s3">):</span>
        <span class="s2">for </span><span class="s1">key </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveAnimation</span><span class="s3">:</span>
            <span class="s1">curveInfo </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveAnimation</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]</span>
            <span class="s1">nodePath </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findObjectById</span><span class="s3">(</span><span class="s1">curveInfo</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">NODE</span><span class="s3">])</span>
            <span class="s1">curve </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findObjectById</span><span class="s3">(</span><span class="s1">curveInfo</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">CURVE</span><span class="s3">])</span>
            <span class="s1">time </span><span class="s3">= </span><span class="s1">curveInfo</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">TIME</span><span class="s3">]</span>
            <span class="s1">sequence </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">singleCurveAnimation</span><span class="s3">(</span><span class="s1">nodePath</span><span class="s3">, </span><span class="s1">curve</span><span class="s3">, </span><span class="s1">time</span><span class="s3">)</span>
            <span class="s1">parallel</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">sequence</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">createActorAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">parallel</span><span class="s3">, </span><span class="s1">startFrame</span><span class="s3">, </span><span class="s1">endFrame</span><span class="s3">):</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findActors</span><span class="s3">(</span><span class="s1">render</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">actor </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">Actor</span><span class="s3">:</span>
            <span class="s1">actorAnim </span><span class="s3">= </span><span class="s1">os</span><span class="s3">.</span><span class="s1">path</span><span class="s3">.</span><span class="s1">basename</span><span class="s3">(</span><span class="s1">actor</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_ANIM</span><span class="s3">])</span>
            <span class="s1">myInterval </span><span class="s3">= </span><span class="s1">ActorInterval</span><span class="s3">(</span><span class="s1">actor</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">], </span><span class="s1">actorAnim</span><span class="s3">, </span><span class="s1">loop</span><span class="s3">=</span><span class="s4">1</span><span class="s3">, </span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">endFrame</span><span class="s3">-</span><span class="s1">startFrame</span><span class="s3">+</span><span class="s4">1</span><span class="s3">)/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">))</span>
            <span class="s1">parallel</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myInterval</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">createKeyFrameAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">parallel</span><span class="s3">, </span><span class="s1">startFrame</span><span class="s3">, </span><span class="s1">endFrame</span><span class="s3">):</span>
        <span class="s5">#generate key frame animation for normal property</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findNodes</span><span class="s3">(</span><span class="s1">render</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">node </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">Nodes</span><span class="s3">:</span>
            <span class="s2">for </span><span class="s1">property </span><span class="s2">in </span><span class="s1">list</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">()):</span>
                <span class="s2">if </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">UID</span><span class="s3">] == </span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_UID</span><span class="s3">] </span><span class="s2">and </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">] != </span><span class="s6">'X' </span><span class="s2">and </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">] != </span><span class="s6">'Y' </span><span class="s2">and </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">] != </span><span class="s6">'Z'</span><span class="s3">:</span>
                    <span class="s1">mysequence </span><span class="s3">= </span><span class="s1">Sequence</span><span class="s3">(</span><span class="s1">name </span><span class="s3">= </span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_UID</span><span class="s3">])</span>
                    <span class="s1">keyFramesInfo </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">property</span><span class="s3">]</span>
                    <span class="s2">if </span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">) == </span><span class="s4">1</span><span class="s3">:</span>
                        <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">endFrame</span><span class="s3">-</span><span class="s1">startFrame</span><span class="s3">)/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                        <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>
                        <span class="s1">parallel</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">mysequence</span><span class="s3">)</span>

                    <span class="s2">if </span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">) != </span><span class="s4">1</span><span class="s3">:</span>
                        <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]-</span><span class="s1">startFrame</span><span class="s3">)/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                        <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>

                        <span class="s2">for </span><span class="s1">key </span><span class="s2">in </span><span class="s1">range</span><span class="s3">(</span><span class="s4">0</span><span class="s3">,</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">):</span>
                            <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]-</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">])/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                            <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>

                        <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">lerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">endFrame</span><span class="s3">-</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">])/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                        <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>
                        <span class="s1">parallel</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">mysequence</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">createCurveKeyFrameAnimation</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">parallel</span><span class="s3">, </span><span class="s1">startFrame</span><span class="s3">, </span><span class="s1">endFrame</span><span class="s3">):</span>
        <span class="s5">#generate key frame animation for the property which is controled by animation curve</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findNodes</span><span class="s3">(</span><span class="s1">render</span><span class="s3">)</span>
        <span class="s2">for </span><span class="s1">node </span><span class="s2">in </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">Nodes</span><span class="s3">:</span>
            <span class="s2">for </span><span class="s1">property </span><span class="s2">in </span><span class="s1">list</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">()):</span>
                <span class="s2">if </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">UID</span><span class="s3">] == </span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_UID</span><span class="s3">]:</span>
                    <span class="s2">if </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">] == </span><span class="s6">'X' </span><span class="s2">or </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">] == </span><span class="s6">'Y' </span><span class="s2">or </span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">] == </span><span class="s6">'Z'</span><span class="s3">:</span>
                        <span class="s1">mysequence </span><span class="s3">= </span><span class="s1">Sequence</span><span class="s3">(</span><span class="s1">name </span><span class="s3">= </span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_UID</span><span class="s3">])</span>
                        <span class="s1">keyFramesInfo </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">property</span><span class="s3">]</span>
                        <span class="s2">if </span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">) == </span><span class="s4">1</span><span class="s3">:</span>
                            <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveLerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]][</span><span class="s4">0</span><span class="s3">],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">endFrame</span><span class="s3">-</span><span class="s1">startFrame</span><span class="s3">)/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                            <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>
                            <span class="s1">parallel</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">mysequence</span><span class="s3">)</span>

                        <span class="s2">if </span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">) == </span><span class="s4">2</span><span class="s3">:</span>
                            <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveLerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]][</span><span class="s4">0</span><span class="s3">],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]-</span><span class="s1">startFrame</span><span class="s3">)/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                            <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>

                            <span class="s2">for </span><span class="s1">key </span><span class="s2">in </span><span class="s1">range</span><span class="s3">(</span><span class="s4">0</span><span class="s3">,</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">):</span>
                                <span class="s1">self</span><span class="s3">.</span><span class="s1">keyFrameInfoForSingleLerp </span><span class="s3">= </span><span class="s1">keyFramesInfo</span>
                                <span class="s1">self</span><span class="s3">.</span><span class="s1">keyInfoForSingleLerp </span><span class="s3">= </span><span class="s1">key</span>
                                <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveLerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]][</span><span class="s4">0</span><span class="s3">],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]-</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">])/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                                <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>

                            <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveLerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]][</span><span class="s4">0</span><span class="s3">],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">endFrame</span><span class="s3">-</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">])/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                            <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>
                            <span class="s1">parallel</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">mysequence</span><span class="s3">)</span>

                        <span class="s2">if </span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">) &gt; </span><span class="s4">2</span><span class="s3">:</span>
                            <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveLerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]][</span><span class="s4">0</span><span class="s3">],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s4">1</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s4">0</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]-</span><span class="s1">startFrame</span><span class="s3">)/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                            <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>

                            <span class="s2">for </span><span class="s1">key </span><span class="s2">in </span><span class="s1">range</span><span class="s3">(</span><span class="s4">0</span><span class="s3">,</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">):</span>
                                <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveLerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]][</span><span class="s4">1</span><span class="s3">],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">]-</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">key</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">])/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [[</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">], </span><span class="s1">keyFramesInfo</span><span class="s3">, </span><span class="s1">key</span><span class="s3">]])</span>
                                <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>

                            <span class="s1">myLerp </span><span class="s3">= </span><span class="s1">LerpFunc</span><span class="s3">(</span><span class="s1">self</span><span class="s3">.</span><span class="s1">curveLerpFuncs</span><span class="s3">[</span><span class="s1">property</span><span class="s3">[</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">PROP_NAME</span><span class="s3">]][</span><span class="s4">0</span><span class="s3">],</span><span class="s1">fromData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">toData</span><span class="s3">=</span><span class="s1">float</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">]),</span><span class="s1">duration </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">endFrame</span><span class="s3">-</span><span class="s1">keyFramesInfo</span><span class="s3">[</span><span class="s1">len</span><span class="s3">(</span><span class="s1">keyFramesInfo</span><span class="s3">)-</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">])/</span><span class="s1">float</span><span class="s3">(</span><span class="s4">24</span><span class="s3">),</span><span class="s1">blendType </span><span class="s3">= </span><span class="s6">'noBlend'</span><span class="s3">,</span><span class="s1">extraArgs </span><span class="s3">= [</span><span class="s1">node</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_NP</span><span class="s3">]])</span>
                            <span class="s1">mysequence</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">myLerp</span><span class="s3">)</span>
                            <span class="s1">parallel</span><span class="s3">.</span><span class="s1">append</span><span class="s3">(</span><span class="s1">mysequence</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">getPos</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">x</span><span class="s3">, </span><span class="s1">list</span><span class="s3">, </span><span class="s1">i</span><span class="s3">):</span>
        <span class="s5">#get the value from animation curve</span>
        <span class="s1">x1 </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">])</span>
        <span class="s1">y1 </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">])</span>

        <span class="s1">x4 </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">FRAME</span><span class="s3">])</span>
        <span class="s1">y4 </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">VALUE</span><span class="s3">])</span>

        <span class="s1">t1x </span><span class="s3">= </span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">OUTSLOPE</span><span class="s3">][</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">t1y </span><span class="s3">= </span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">OUTSLOPE</span><span class="s3">][</span><span class="s4">1</span><span class="s3">]</span>

        <span class="s1">t2x </span><span class="s3">= </span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">][</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">t2y </span><span class="s3">= </span><span class="s1">list</span><span class="s3">[</span><span class="s1">i</span><span class="s3">+</span><span class="s4">1</span><span class="s3">][</span><span class="s1">AG</span><span class="s3">.</span><span class="s1">INSLOPE</span><span class="s3">][</span><span class="s4">1</span><span class="s3">]</span>

        <span class="s1">x2 </span><span class="s3">= </span><span class="s1">x1 </span><span class="s3">+ (</span><span class="s1">x4 </span><span class="s3">- </span><span class="s1">x1</span><span class="s3">) / </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">)</span>
        <span class="s1">scale1 </span><span class="s3">= (</span><span class="s1">x2 </span><span class="s3">- </span><span class="s1">x1</span><span class="s3">) / </span><span class="s1">t1x</span>
        <span class="s1">y2 </span><span class="s3">= </span><span class="s1">y1 </span><span class="s3">+ </span><span class="s1">t1y </span><span class="s3">* </span><span class="s1">scale1</span>

        <span class="s1">x3 </span><span class="s3">= </span><span class="s1">x4 </span><span class="s3">- (</span><span class="s1">x4 </span><span class="s3">- </span><span class="s1">x1</span><span class="s3">) / </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">)</span>
        <span class="s1">scale2 </span><span class="s3">= (</span><span class="s1">x4 </span><span class="s3">- </span><span class="s1">x3</span><span class="s3">) / </span><span class="s1">t2x</span>
        <span class="s1">y3 </span><span class="s3">= </span><span class="s1">y4 </span><span class="s3">- </span><span class="s1">t2y </span><span class="s3">* </span><span class="s1">scale2</span>

        <span class="s1">ax </span><span class="s3">= - </span><span class="s1">float</span><span class="s3">(</span><span class="s4">1</span><span class="s3">) * </span><span class="s1">x1 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">x2 </span><span class="s3">- </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">x3 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">1</span><span class="s3">) * </span><span class="s1">x4</span>
        <span class="s1">bx </span><span class="s3">=   </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">x1 </span><span class="s3">- </span><span class="s1">float</span><span class="s3">(</span><span class="s4">6</span><span class="s3">) * </span><span class="s1">x2 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">x3 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">x4</span>
        <span class="s1">cx </span><span class="s3">= - </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">x1 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">x2 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">x3 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">x4</span>
        <span class="s1">dx </span><span class="s3">=   </span><span class="s1">float</span><span class="s3">(</span><span class="s4">1</span><span class="s3">) * </span><span class="s1">x1 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">x2 </span><span class="s3">- </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">x3 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">x4</span>

        <span class="s1">ay </span><span class="s3">= - </span><span class="s1">float</span><span class="s3">(</span><span class="s4">1</span><span class="s3">) * </span><span class="s1">y1 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">y2 </span><span class="s3">- </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">y3 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">1</span><span class="s3">) * </span><span class="s1">y4</span>
        <span class="s1">by </span><span class="s3">=   </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">y1 </span><span class="s3">- </span><span class="s1">float</span><span class="s3">(</span><span class="s4">6</span><span class="s3">) * </span><span class="s1">y2 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">y3 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">y4</span>
        <span class="s1">cy </span><span class="s3">= - </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">y1 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">) * </span><span class="s1">y2 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">y3 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">y4</span>
        <span class="s1">dy </span><span class="s3">=   </span><span class="s1">float</span><span class="s3">(</span><span class="s4">1</span><span class="s3">) * </span><span class="s1">y1 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">y2 </span><span class="s3">- </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">y3 </span><span class="s3">+ </span><span class="s1">float</span><span class="s3">(</span><span class="s4">0</span><span class="s3">) * </span><span class="s1">y4</span>

        <span class="s2">if </span><span class="s1">ax </span><span class="s3">== </span><span class="s4">0 </span><span class="s2">and </span><span class="s1">bx </span><span class="s3">== </span><span class="s4">0 </span><span class="s2">and </span><span class="s1">cx </span><span class="s3">== </span><span class="s4">0</span><span class="s3">:</span>
            <span class="s2">return </span><span class="s4">0</span>

        <span class="s2">if </span><span class="s1">ax </span><span class="s3">== </span><span class="s4">0 </span><span class="s2">and </span><span class="s1">bx </span><span class="s3">== </span><span class="s4">0 </span><span class="s2">and </span><span class="s1">cx </span><span class="s3">!= </span><span class="s4">0</span><span class="s3">:</span>
            <span class="s1">a </span><span class="s3">= </span><span class="s1">cx</span>
            <span class="s1">b </span><span class="s3">= </span><span class="s1">dx</span><span class="s3">-</span><span class="s1">x</span>
            <span class="s1">t </span><span class="s3">= -</span><span class="s1">b</span><span class="s3">/</span><span class="s1">a</span>
            <span class="s1">y </span><span class="s3">= </span><span class="s1">ay </span><span class="s3">* </span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t </span><span class="s3">+ </span><span class="s1">by </span><span class="s3">* </span><span class="s1">t</span><span class="s3">*</span><span class="s1">t </span><span class="s3">+ </span><span class="s1">cy </span><span class="s3">* </span><span class="s1">t </span><span class="s3">+ </span><span class="s1">dy</span>
            <span class="s2">return </span><span class="s1">y</span>

        <span class="s2">if </span><span class="s1">ax </span><span class="s3">== </span><span class="s4">0 </span><span class="s2">and </span><span class="s1">bx</span><span class="s3">!= </span><span class="s4">0</span><span class="s3">:</span>
            <span class="s1">a</span><span class="s3">=</span><span class="s1">bx</span>
            <span class="s1">b</span><span class="s3">=</span><span class="s1">cx</span>
            <span class="s1">c</span><span class="s3">=</span><span class="s1">dx</span><span class="s3">-</span><span class="s1">x</span>
            <span class="s1">t</span><span class="s3">=(-</span><span class="s1">b</span><span class="s3">+</span><span class="s1">math</span><span class="s3">.</span><span class="s1">sqrt</span><span class="s3">(</span><span class="s1">b</span><span class="s3">**</span><span class="s4">2</span><span class="s3">-</span><span class="s4">4.0</span><span class="s3">*</span><span class="s1">a</span><span class="s3">*</span><span class="s1">c</span><span class="s3">))/</span><span class="s4">2</span><span class="s3">*</span><span class="s1">a</span>
            <span class="s2">if </span><span class="s1">t</span><span class="s3">&gt;=</span><span class="s4">0 </span><span class="s2">and </span><span class="s1">t</span><span class="s3">&lt;=</span><span class="s4">1</span><span class="s3">:</span>
                <span class="s1">y </span><span class="s3">= </span><span class="s1">ay </span><span class="s3">* </span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t </span><span class="s3">+ </span><span class="s1">by </span><span class="s3">* </span><span class="s1">t</span><span class="s3">*</span><span class="s1">t </span><span class="s3">+ </span><span class="s1">cy </span><span class="s3">* </span><span class="s1">t </span><span class="s3">+ </span><span class="s1">dy</span>
                <span class="s2">return </span><span class="s1">y</span>
            <span class="s2">else</span><span class="s3">:</span>
                <span class="s1">t</span><span class="s3">=(-</span><span class="s1">b</span><span class="s3">-</span><span class="s1">math</span><span class="s3">.</span><span class="s1">sqrt</span><span class="s3">(</span><span class="s1">b</span><span class="s3">**</span><span class="s4">2</span><span class="s3">-</span><span class="s4">4.0</span><span class="s3">*</span><span class="s1">a</span><span class="s3">*</span><span class="s1">c</span><span class="s3">))/</span><span class="s4">2</span><span class="s3">*</span><span class="s1">a</span>
                <span class="s1">y </span><span class="s3">= </span><span class="s1">ay </span><span class="s3">* </span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t </span><span class="s3">+ </span><span class="s1">by </span><span class="s3">* </span><span class="s1">t</span><span class="s3">*</span><span class="s1">t </span><span class="s3">+ </span><span class="s1">cy </span><span class="s3">* </span><span class="s1">t </span><span class="s3">+ </span><span class="s1">dy</span>
                <span class="s2">return </span><span class="s1">y</span>

        <span class="s2">if </span><span class="s1">ax </span><span class="s3">!= </span><span class="s4">0</span><span class="s3">:</span>
            <span class="s1">a </span><span class="s3">= </span><span class="s1">ax</span>
            <span class="s1">b </span><span class="s3">= </span><span class="s1">bx</span>
            <span class="s1">c </span><span class="s3">= </span><span class="s1">cx</span>
            <span class="s1">d </span><span class="s3">= </span><span class="s1">dx </span><span class="s3">- </span><span class="s1">float</span><span class="s3">(</span><span class="s1">x</span><span class="s3">)</span>
            <span class="s1">t </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">calculateT</span><span class="s3">(</span><span class="s1">a</span><span class="s3">, </span><span class="s1">b</span><span class="s3">, </span><span class="s1">c</span><span class="s3">, </span><span class="s1">d</span><span class="s3">, </span><span class="s1">x</span><span class="s3">)</span>
            <span class="s1">y </span><span class="s3">= </span><span class="s1">ay </span><span class="s3">* </span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t </span><span class="s3">+ </span><span class="s1">by </span><span class="s3">* </span><span class="s1">t</span><span class="s3">*</span><span class="s1">t </span><span class="s3">+ </span><span class="s1">cy </span><span class="s3">* </span><span class="s1">t </span><span class="s3">+ </span><span class="s1">dy</span>
            <span class="s2">return </span><span class="s1">y</span>

    <span class="s2">def </span><span class="s1">calculateT</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">a</span><span class="s3">, </span><span class="s1">b</span><span class="s3">, </span><span class="s1">c</span><span class="s3">, </span><span class="s1">d</span><span class="s3">, </span><span class="s1">x</span><span class="s3">):</span>
        <span class="s5">#Newton EQUATION</span>
        <span class="s1">t </span><span class="s3">= </span><span class="s1">float</span><span class="s3">(</span><span class="s4">1</span><span class="s3">)</span>
        <span class="s1">t2 </span><span class="s3">= </span><span class="s1">t</span>
        <span class="s1">t </span><span class="s3">-= (</span><span class="s1">a</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">b</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">c</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">d</span><span class="s3">)/(</span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">)*</span><span class="s1">a</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">float</span><span class="s3">(</span><span class="s4">2</span><span class="s3">)*</span><span class="s1">b</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">c</span><span class="s3">)</span>
        <span class="s2">if </span><span class="s1">abs</span><span class="s3">(</span><span class="s1">t</span><span class="s3">-</span><span class="s1">t2</span><span class="s3">) &lt;= </span><span class="s4">0.000001</span><span class="s3">:</span>
            <span class="s2">return </span><span class="s1">t</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s2">while </span><span class="s1">abs</span><span class="s3">(</span><span class="s1">t </span><span class="s3">- </span><span class="s1">t2</span><span class="s3">) &gt; </span><span class="s4">0.000001</span><span class="s3">:</span>
                <span class="s1">t2 </span><span class="s3">= </span><span class="s1">t</span>
                <span class="s1">t </span><span class="s3">-= (</span><span class="s1">a</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">b</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">c</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">d</span><span class="s3">)/(</span><span class="s1">float</span><span class="s3">(</span><span class="s4">3</span><span class="s3">)*</span><span class="s1">a</span><span class="s3">*</span><span class="s1">t</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">float</span><span class="s3">(</span><span class="s4">2</span><span class="s3">)*</span><span class="s1">b</span><span class="s3">*</span><span class="s1">t</span><span class="s3">+</span><span class="s1">c</span><span class="s3">)</span>
            <span class="s2">return </span><span class="s1">t</span>

    <span class="s2">def </span><span class="s1">lerpFuncX</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">pos</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setX</span><span class="s3">(</span><span class="s1">pos</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncY</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">pos</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setY</span><span class="s3">(</span><span class="s1">pos</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncZ</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">pos</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setZ</span><span class="s3">(</span><span class="s1">pos</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpCurveFuncX</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">t</span><span class="s3">,</span><span class="s1">extraArgs</span><span class="s3">):</span>
        <span class="s1">np </span><span class="s3">= </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">pos </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">getPos</span><span class="s3">(</span><span class="s1">t</span><span class="s3">, </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">1</span><span class="s3">], </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">2</span><span class="s3">])</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setX</span><span class="s3">(</span><span class="s1">pos</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpCurveFuncY</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">t</span><span class="s3">,</span><span class="s1">extraArgs</span><span class="s3">):</span>
        <span class="s1">np </span><span class="s3">= </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">pos </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">getPos</span><span class="s3">(</span><span class="s1">t</span><span class="s3">, </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">1</span><span class="s3">], </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">2</span><span class="s3">])</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setY</span><span class="s3">(</span><span class="s1">pos</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpCurveFuncZ</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">t</span><span class="s3">,</span><span class="s1">extraArgs</span><span class="s3">):</span>
        <span class="s1">np </span><span class="s3">= </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">pos </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">getPos</span><span class="s3">(</span><span class="s1">t</span><span class="s3">, </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">1</span><span class="s3">], </span><span class="s1">extraArgs</span><span class="s3">[</span><span class="s4">2</span><span class="s3">])</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setZ</span><span class="s3">(</span><span class="s1">pos</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncH</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">angle</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setH</span><span class="s3">(</span><span class="s1">angle</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncP</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">angle</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setP</span><span class="s3">(</span><span class="s1">angle</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncR</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">angle</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setR</span><span class="s3">(</span><span class="s1">angle</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncSX</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">scale</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setSx</span><span class="s3">(</span><span class="s1">scale</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncSY</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">scale</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setSy</span><span class="s3">(</span><span class="s1">scale</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncSZ</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">scale</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">np</span><span class="s3">.</span><span class="s1">setSz</span><span class="s3">(</span><span class="s1">scale</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncCR</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">R</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">obj </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findObjectByNodePath</span><span class="s3">(</span><span class="s1">np</span><span class="s3">)</span>
        <span class="s1">r </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">g </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">1</span><span class="s3">]</span>
        <span class="s1">b </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">2</span><span class="s3">]</span>
        <span class="s1">a </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">3</span><span class="s3">]</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">colorUpdate</span><span class="s3">(</span><span class="s1">R</span><span class="s3">,</span><span class="s1">g</span><span class="s3">,</span><span class="s1">b</span><span class="s3">,</span><span class="s1">a</span><span class="s3">,</span><span class="s1">np</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncCG</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">G</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">obj </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findObjectByNodePath</span><span class="s3">(</span><span class="s1">np</span><span class="s3">)</span>
        <span class="s1">r </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">g </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">1</span><span class="s3">]</span>
        <span class="s1">b </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">2</span><span class="s3">]</span>
        <span class="s1">a </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">3</span><span class="s3">]</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">colorUpdate</span><span class="s3">(</span><span class="s1">r</span><span class="s3">,</span><span class="s1">G</span><span class="s3">,</span><span class="s1">b</span><span class="s3">,</span><span class="s1">a</span><span class="s3">,</span><span class="s1">np</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncCB</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">B</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">obj </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findObjectByNodePath</span><span class="s3">(</span><span class="s1">np</span><span class="s3">)</span>
        <span class="s1">r </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">g </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">1</span><span class="s3">]</span>
        <span class="s1">b </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">2</span><span class="s3">]</span>
        <span class="s1">a </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">3</span><span class="s3">]</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">colorUpdate</span><span class="s3">(</span><span class="s1">r</span><span class="s3">,</span><span class="s1">g</span><span class="s3">,</span><span class="s1">B</span><span class="s3">,</span><span class="s1">a</span><span class="s3">,</span><span class="s1">np</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">lerpFuncCA</span><span class="s3">(</span><span class="s1">self</span><span class="s3">,</span><span class="s1">A</span><span class="s3">,</span><span class="s1">np</span><span class="s3">):</span>
        <span class="s1">obj </span><span class="s3">= </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findObjectByNodePath</span><span class="s3">(</span><span class="s1">np</span><span class="s3">)</span>
        <span class="s1">r </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">0</span><span class="s3">]</span>
        <span class="s1">g </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">1</span><span class="s3">]</span>
        <span class="s1">b </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">2</span><span class="s3">]</span>
        <span class="s1">a </span><span class="s3">= </span><span class="s1">obj</span><span class="s3">[</span><span class="s1">OG</span><span class="s3">.</span><span class="s1">OBJ_RGBA</span><span class="s3">][</span><span class="s4">3</span><span class="s3">]</span>
        <span class="s1">self</span><span class="s3">.</span><span class="s1">colorUpdate</span><span class="s3">(</span><span class="s1">r</span><span class="s3">,</span><span class="s1">g</span><span class="s3">,</span><span class="s1">b</span><span class="s3">,</span><span class="s1">A</span><span class="s3">,</span><span class="s1">np</span><span class="s3">)</span>

    <span class="s2">def </span><span class="s1">colorUpdate</span><span class="s3">(</span><span class="s1">self</span><span class="s3">, </span><span class="s1">r</span><span class="s3">, </span><span class="s1">g</span><span class="s3">, </span><span class="s1">b</span><span class="s3">, </span><span class="s1">a</span><span class="s3">, </span><span class="s1">np</span><span class="s3">):</span>
        <span class="s2">if </span><span class="s1">base</span><span class="s3">.</span><span class="s1">direct</span><span class="s3">.</span><span class="s1">selected</span><span class="s3">.</span><span class="s1">last </span><span class="s3">== </span><span class="s2">None</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">updateObjectColor</span><span class="s3">(</span><span class="s1">r</span><span class="s3">, </span><span class="s1">g</span><span class="s3">, </span><span class="s1">b</span><span class="s3">, </span><span class="s1">a</span><span class="s3">, </span><span class="s1">np</span><span class="s3">)</span>
        <span class="s2">elif </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findObjectByNodePath</span><span class="s3">(</span><span class="s1">np</span><span class="s3">) == </span><span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">findObjectByNodePath</span><span class="s3">(</span><span class="s1">base</span><span class="s3">.</span><span class="s1">direct</span><span class="s3">.</span><span class="s1">selected</span><span class="s3">.</span><span class="s1">last</span><span class="s3">):</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">ui</span><span class="s3">.</span><span class="s1">objectPropertyUI</span><span class="s3">.</span><span class="s1">propCR</span><span class="s3">.</span><span class="s1">setValue</span><span class="s3">(</span><span class="s1">r</span><span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">ui</span><span class="s3">.</span><span class="s1">objectPropertyUI</span><span class="s3">.</span><span class="s1">propCG</span><span class="s3">.</span><span class="s1">setValue</span><span class="s3">(</span><span class="s1">g</span><span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">ui</span><span class="s3">.</span><span class="s1">objectPropertyUI</span><span class="s3">.</span><span class="s1">propCB</span><span class="s3">.</span><span class="s1">setValue</span><span class="s3">(</span><span class="s1">b</span><span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">ui</span><span class="s3">.</span><span class="s1">objectPropertyUI</span><span class="s3">.</span><span class="s1">propCA</span><span class="s3">.</span><span class="s1">setValue</span><span class="s3">(</span><span class="s1">a</span><span class="s3">)</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">updateObjectColor</span><span class="s3">(</span><span class="s1">r</span><span class="s3">, </span><span class="s1">g</span><span class="s3">, </span><span class="s1">b</span><span class="s3">, </span><span class="s1">a</span><span class="s3">, </span><span class="s1">np</span><span class="s3">)</span>
        <span class="s2">else</span><span class="s3">:</span>
            <span class="s1">self</span><span class="s3">.</span><span class="s1">editor</span><span class="s3">.</span><span class="s1">objectMgr</span><span class="s3">.</span><span class="s1">updateObjectColor</span><span class="s3">(</span><span class="s1">r</span><span class="s3">, </span><span class="s1">g</span><span class="s3">, </span><span class="s1">b</span><span class="s3">, </span><span class="s1">a</span><span class="s3">, </span><span class="s1">np</span><span class="s3">)</span>

</pre>
</body>
</html>