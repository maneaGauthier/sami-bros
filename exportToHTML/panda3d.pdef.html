<html>
<head>
<title>panda3d.pdef</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
panda3d.pdef</font>
</center></td></tr></table>
<pre><span class="s0">import sys</span>
<span class="s0">from panda3d.core import Filename, PandaSystem, getModelPath</span>

<span class="s0"># This file defines a number of standard &quot;packages&quot; that correspond to</span>
<span class="s0"># a Panda3D distribution.  These packages are built by passing this</span>
<span class="s0"># file to the ppackage utility, either as a packaged application, or</span>
<span class="s0"># as the module direct.p3d.ppackage.</span>

<span class="s0"># The packages in this file define Panda3D itself.  This is the third</span>
<span class="s0"># installed piece of the three-part plugin system (the plugin, the</span>
<span class="s0"># core API, Panda3D).</span>

<span class="s0"># When needed, these packages are downloaded by the core API, from the</span>
<span class="s0"># host URL specified in a given p3d file, and not from any hardcoded</span>
<span class="s0"># URL.  Thus, any custom version of Panda3D may be hosted on any</span>
<span class="s0"># server in the world, and any version of the plugin can download it.</span>

<span class="s0"># Also see coreapi.pdef.</span>

<span class="s0">class panda3d(package):</span>
    <span class="s0"># The main Panda3D package.  Contains Python and most of the graphics</span>
    <span class="s0"># code in Panda3D.</span>

    <span class="s0">config(display_name = &quot;Panda3D&quot;)</span>

    <span class="s0"># First, add the minimum startup files for a Panda3D package.</span>
    <span class="s0"># These are files that the Panda3D runtime will explicitly look</span>
    <span class="s0"># for by name in order to get itself bootstrapped.</span>
    <span class="s0">setupPanda3D()</span>

    <span class="s0"># These are Python modules that are needed by most Panda3D</span>
    <span class="s0"># applications.  It doesn't matter too much if we miss one or two</span>
    <span class="s0"># here, since any module imported by any of this code will</span>
    <span class="s0"># automatically be included as well, and we end up with a pretty</span>
    <span class="s0"># complete list that way.</span>
    <span class="s0">module('direct.directbase.DirectStart',</span>
           <span class="s0"># Don't want to include all files in direct.p3d, because</span>
           <span class="s0"># that picks up the runtime scripts too, which are their</span>
           <span class="s0"># own p3d files below.</span>
           <span class="s0">'direct.p3d.AppRunner',</span>
           <span class="s0">'direct.p3d.DWBPackageInstaller',</span>
           <span class="s0">'direct.actor.*',</span>
           <span class="s0">'direct.controls.*',</span>
           <span class="s0">'direct.directdevices.*',</span>
           <span class="s0">'direct.directnotify.*',</span>
           <span class="s0">'direct.directtools.*',</span>
           <span class="s0">'direct.directutil.*',</span>
           <span class="s0">'direct.distributed.*',</span>
           <span class="s0">'direct.filter.*',</span>
           <span class="s0">'direct.fsm.*',</span>
           <span class="s0">'direct.gui.*',</span>
           <span class="s0">'direct.interval.*',</span>
           <span class="s0">'direct.particles.*',</span>
           <span class="s0">'direct.showbase.*',</span>
           <span class="s0">'direct.showutil.*',</span>
           <span class="s0">'direct.stdpy.*',</span>
           <span class="s0">'direct.task.*')</span>

    <span class="s0"># Keep these modules for backward compatibility.</span>
    <span class="s0">module('pandac.PandaModules', 'pandac.extension_native_helpers')</span>

    <span class="s0">module('panda3d.core',</span>
           <span class="s0">'panda3d.direct',</span>
           <span class="s0">'panda3d.fx',</span>
           <span class="s0">'panda3d.physics')</span>

    <span class="s0"># Include various standard Python encodings.  The rest is in morepy.</span>
    <span class="s0">module('encodings', 'encodings.aliases', 'encodings.undefined',</span>
           <span class="s0">'encodings.utf_8', 'encodings.ascii', 'encodings.mbcs',</span>
           <span class="s0">'encodings.latin_1', 'io')</span>
    <span class="s0">if sys.version_info &lt; (3, 0):</span>
        <span class="s0">module('encodings.string_escape')</span>

    <span class="s0"># pandac.PandaModules pulls in other Panda3D libs automatically.</span>
    <span class="s0"># Exclude these Panda3D libs; they are big and many applications don't</span>
    <span class="s0"># use them.  We define them as separate, optional packages, below,</span>
    <span class="s0"># except for skel - this is useless in a shipped game anyways.</span>
    <span class="s0">excludeModule('panda3d.egg')</span>
    <span class="s0">excludeModule('panda3d.ode')</span>
    <span class="s0">excludeModule('panda3d.bullet')</span>
    <span class="s0">excludeModule('panda3d.vision')</span>
    <span class="s0">excludeModule('panda3d.skel')</span>
    <span class="s0">excludeModule('panda3d.physx')</span>
    <span class="s0">excludeModule('panda3d.ai')</span>
    <span class="s0">excludeModule('panda3d.vrpn')</span>

    <span class="s0">excludeModule('libpandaegg')</span>
    <span class="s0">excludeModule('libpandaode')</span>
    <span class="s0">excludeModule('libpandabullet')</span>
    <span class="s0">excludeModule('libp3vision')</span>
    <span class="s0">excludeModule('libpandaskel')</span>
    <span class="s0">excludeModule('libpandaphysx')</span>
    <span class="s0">excludeModule('libpandaai')</span>
    <span class="s0">excludeModule('libp3vrpn')</span>

    <span class="s0"># Exclude these GUI toolkits; they're big, and many applications don't</span>
    <span class="s0"># use them.  We define them as separate, optional packages, below.</span>
    <span class="s0">excludeModule('wx',</span>
                  <span class="s0">'direct.showbase.WxGlobal')</span>

    <span class="s0">excludeModule('Tkinter', 'tkinter', 'Pmw', 'tkinter.simpledialog',</span>
                  <span class="s0">'direct.showbase.TkGlobal',</span>
                  <span class="s0">'direct.tkpanels', 'direct.tkwidgets',</span>
                  <span class="s0">'tkCommonDialog', 'tkMessageBox', 'tkSimpleDialog')</span>

    <span class="s0">excludeModule('MySQLdb', 'MySQLdb.connections', 'MySQLdb.constants',</span>
                  <span class="s0">'MySQLdb.converters', '_mysql')</span>

    <span class="s0"># Some code in distributed conditionally imports these.</span>
    <span class="s0">excludeModule('otp.ai', 'otp.ai.AIZoneData')</span>

    <span class="s0"># Most of the core Panda3D DLL's will be included implicitly due to</span>
    <span class="s0"># being referenced by the above Python code.  Here we name a few more</span>
    <span class="s0"># that are also needed, but aren't referenced by any code.  Again,</span>
    <span class="s0"># note that the .dll extension is automatically replaced with the</span>
    <span class="s0"># platform-specific extension for an executable.</span>
    <span class="s0">file('libpandagl.dll', 'libp3tinydisplay.dll')</span>
    <span class="s0">if platform.startswith('win'):</span>
        <span class="s0">file('libpandadx9.dll')</span>

    <span class="s0"># A basic config file is needed to lay some some fundamental runtime</span>
    <span class="s0"># variables.</span>
    <span class="s0">if platform.startswith('win'):</span>
        <span class="s0">auxDisplays = &quot;&quot;&quot;</span>
<span class="s0">aux-display pandagl</span>
<span class="s0">aux-display pandadx9</span>
<span class="s0">aux-display p3tinydisplay</span>
<span class="s0">&quot;&quot;&quot;</span>
    <span class="s0">else:</span>
        <span class="s0">auxDisplays = &quot;&quot;&quot;</span>
<span class="s0">aux-display pandagl</span>
<span class="s0">aux-display p3tinydisplay</span>
<span class="s0">&quot;&quot;&quot;</span>

    <span class="s0">file('Config.prc', extract = True, text = &quot;&quot;&quot;</span>
<span class="s0">plugin-path $PANDA3D_ROOT</span>
<span class="s0">default-model-extension .bam</span>
<span class="s0">cull-bin gui-popup 60 unsorted</span>
<span class="s0">&quot;&quot;&quot; + auxDisplays)</span>

<span class="s0">class morepy(package):</span>
    <span class="s0"># Additional Python modules provided by the standard Python</span>
    <span class="s0"># library.  Include this package to get the full suite of standard</span>
    <span class="s0"># Python functionality.</span>

    <span class="s0">config(display_name = &quot;Python standard library&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">module('string', 're', 'struct', 'difflib',</span>
           <span class="s0">'textwrap', 'codecs', 'unicodedata', 'stringprep', 'datetime',</span>
           <span class="s0">'calendar', 'collections', 'heapq', 'bisect', 'array',</span>
           <span class="s0">'sched', 'queue', 'weakref', 'types', 'copy', 'pprint',</span>
           <span class="s0">'numbers', 'math', 'cmath', 'decimal', 'fractions',</span>
           <span class="s0">'random', 'itertools', 'functools', 'operator', 'os.path',</span>
           <span class="s0">'fileinput', 'filecmp', 'tempfile', 'glob', 'fnmatch', 'linecache',</span>
           <span class="s0">'shutil', 'macpath', 'pickle', 'shelve', 'marshal', 'zlib',</span>
           <span class="s0">'gzip', 'bz2', 'zipfile', 'tarfile', 'csv', 'netrc',</span>
           <span class="s0">'xdrlib', 'plistlib', 'hashlib', 'hmac', 'os',</span>
           <span class="s0">'time', 'optparse', 'getopt', 'logging', 'logging.*')</span>
    <span class="s0">module('getpass', 'curses', 'curses.textpad', 'curses.wrapper',</span>
           <span class="s0">'curses.ascii', 'curses.panel', 'platform', 'errno',</span>
           <span class="s0">'ctypes', 'select', 'threading', 'dummy_threading', 'dummy_thread',</span>
           <span class="s0">'multiprocessing', 'mmap', 'readline', 'rlcompleter', 'subprocess',</span>
           <span class="s0">'socket', 'ssl', 'signal', 'asyncore', 'asynchat', 'email', 'json',</span>
           <span class="s0">'mailcap', 'mailbox', 'mimetypes', 'base64', 'binhex', 'binascii',</span>
           <span class="s0">'quopri', 'uu', 'xml.parsers.expat', 'xml.dom', 'xml.dom.minidom',</span>
           <span class="s0">'xml.dom.pulldom', 'xml.sax', 'xml.sax.handler',</span>
           <span class="s0">'xml.sax.saxutils', 'xml.sax.xmlreader',</span>
           <span class="s0">'xml.etree.ElementTree', 'webbrowser', 'cgi', 'cgitb')</span>
    <span class="s0">module('wsgiref', 'ftplib', 'poplib', 'imaplib', 'nntplib', 'smtplib',</span>
           <span class="s0">'smtpd', 'telnetlib', 'uuid', 'audioop', 'aifc', 'sunau',</span>
           <span class="s0">'wave', 'chunk', 'colorsys', 'imghdr', 'sndhdr',</span>
           <span class="s0">'ossaudiodev', 'gettext', 'locale', 'cmd', 'shlex',</span>
           <span class="s0">'pydoc', 'doctest', 'unittest', 'test',</span>
           <span class="s0">'bdb', 'pdb', 'timeit', 'trace', 'sys')</span>
    <span class="s0">module('warnings', 'contextlib', 'abc',</span>
           <span class="s0">'atexit', 'traceback', '__future__', 'gc', 'inspect',</span>
           <span class="s0">'site', 'fpectl', 'code', 'codeop', 'zipimport', 'pkgutil',</span>
           <span class="s0">'modulefinder', 'runpy', 'parser', 'symtable', 'symbol',</span>
           <span class="s0">'token', 'keyword', 'tokenize', 'tabnanny', 'pyclbr',</span>
           <span class="s0">'py_compile', 'compileall', 'dis', 'pickletools',</span>
           <span class="s0">'distutils', 'msilib', 'msvcrt', 'winsound', 'posix', 'pwd', 'spwd',</span>
           <span class="s0">'grp', 'crypt', 'termios', 'tty', 'pty', 'fcntl', 'pipes',</span>
           <span class="s0">'resource', 'nis', 'syslog', 'ast')</span>

    <span class="s0"># Handle module name differences between Python 2 and Python 3 (see PEP3108)</span>
    <span class="s0">if sys.version_info[0] &lt; 3:</span>
        <span class="s0"># Deprecated modules that were removed in Python 3</span>
        <span class="s0">module('posixfile', 'rfc822', 'mimetools','MimeWriter', 'mimify',</span>
               <span class="s0">'multifile', 'sets', 'md5', 'sha', 'imp',  'formatter')</span>
        <span class="s0"># Mac-specific modules that were removed</span>
        <span class="s0">module('autoGIL', 'ColorPicker', 'EasyDialogs', 'findertools',</span>
               <span class="s0">'FrameWork', 'ic',  'MacOS', 'macostools')</span>
        <span class="s0"># Removed because they were hardly used</span>
        <span class="s0">module('imputil', 'mutex', 'user', 'new')</span>
        <span class="s0"># Removed because they were obsolete</span>
        <span class="s0">module('Bastion', 'rexec', 'commands', 'dircache', 'dl', 'fpformat',</span>
               <span class="s0">'htmllib', 'imageop', 'mhlib', 'popen2', 'sgmllib', 'stat',</span>
               <span class="s0">'statvfs', 'thread', 'UserDict', 'UserList', 'UserString',</span>
               <span class="s0">'future_builtins', 'hotshot', 'bsddb')</span>
        <span class="s0"># Renamed to fix PEP8 violations</span>
        <span class="s0">module('_winreg', 'ConfigParser', 'copy_reg', 'SocketServer')</span>
        <span class="s0"># C and Python implementations of the same interface were merged</span>
        <span class="s0">module('cPickle', 'cStringIO', 'StringIO')</span>
        <span class="s0"># Renamed because of poorly chosen names</span>
        <span class="s0">module('repr', 'test.test_support', '__builtins__')</span>
        <span class="s0"># Modules that got grouped under packages</span>
        <span class="s0">module('anydbm', 'whichdb', 'dbm', 'dumbdbm', 'gdbm', 'dbhash')</span>
        <span class="s0">module('HTMLParser', 'htmlentitydefs')</span>
        <span class="s0">module('BaseHTTPServer', 'SimpleHTTPServer', 'cookielib', 'Cookie',</span>
               <span class="s0">'CGIHTTPServer', 'httplib')</span>
        <span class="s0">module('urllib', 'urllib2', 'urlparse', 'robotparser')</span>
        <span class="s0">module('xmlrpclib', 'SimpleXMLRPCServer', 'DocXMLRPCServer')</span>
    <span class="s0">else:</span>
        <span class="s0"># Renamed to fix PEP8 violations</span>
        <span class="s0">module('winreg', 'configparser', 'copyreg', 'socketserver')</span>
        <span class="s0"># Renamed because of poorly chosen names</span>
        <span class="s0">module('reprlib', 'test.support', 'builtins')</span>
        <span class="s0"># Modules that got grouped under packages</span>
        <span class="s0">module('dbm')</span>
        <span class="s0">module('html')</span>
        <span class="s0">module('http')</span>
        <span class="s0">module('urllib')</span>
        <span class="s0">module('xmlrpc')</span>

    <span class="s0"># To add the multitude of standard Python string encodings.</span>
    <span class="s0">module('encodings', 'encodings.*')</span>

<span class="s0">class models(package):</span>
    <span class="s0"># The standard models package.  This is the contents of the</span>
    <span class="s0"># &quot;models&quot; directory that ships with Panda; it includes a few</span>
    <span class="s0"># default fonts, and some silly little sample models like smiley</span>
    <span class="s0"># and teapot.</span>
    <span class="s0">config(display_name = &quot;Standard models&quot;)</span>

    <span class="s0"># We assign it the same version as the panda3d package.  This</span>
    <span class="s0"># would be assigned by default if we had a requirement on panda3d,</span>
    <span class="s0"># but there's no real reason to declare that requirement.</span>
    <span class="s0">config(version = PandaSystem.getPackageVersionString())</span>

    <span class="s0"># Look for cmss12.egg on the model-path.  Wherever this is found,</span>
    <span class="s0"># we assume this is the models directory.</span>
    <span class="s0">pathname = getModelPath().findFile('cmss12.egg')</span>
    <span class="s0">if pathname:</span>
        <span class="s0">dir(pathname.getDirname(), newDir = 'models')</span>

    <span class="s0"># Some people are used to loading the models without models/ prefix.</span>
    <span class="s0">file('models.prc', extract = True, text = &quot;model-path $MODELS_ROOT/models&quot;)</span>


<span class="s0">class fmod(package):</span>
    <span class="s0"># This package includes the FMod audio library.  This is</span>
    <span class="s0"># full-featured and robust, but it is closed-source and the</span>
    <span class="s0"># licensing is cost-free only for non-commercial products.</span>

    <span class="s0">config(display_name = &quot;FMod audio library&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">file('libp3fmod_audio.dll', required = True)</span>

    <span class="s0">file('fmod.prc', extract = True, text = &quot;&quot;&quot;</span>
<span class="s0">plugin-path $FMOD_ROOT</span>
<span class="s0">audio-library-name p3fmod_audio</span>
<span class="s0">&quot;&quot;&quot;)</span>

<span class="s0">class openal(package):</span>
    <span class="s0"># This package includes the OpenAL audio libraries.  This is free</span>
    <span class="s0"># in both senses, but there are some technical issues, especially</span>
    <span class="s0"># on certain platforms.</span>

    <span class="s0">config(display_name = &quot;OpenAL audio library&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">file('libp3openal_audio.dll', required = True)</span>
    <span class="s0">file('OpenAL32.dll')</span>
    <span class="s0">file('soft_oal.dll')</span>
    <span class="s0">file('wrap_oal.dll')</span>

    <span class="s0">file('openal.prc', extract = True, text = &quot;&quot;&quot;</span>
<span class="s0">plugin-path $OPENAL_ROOT</span>
<span class="s0">audio-library-name p3openal_audio</span>
<span class="s0">&quot;&quot;&quot;)</span>

<span class="s0">class audio(package):</span>
    <span class="s0"># This package includes the best audio library for the given</span>
    <span class="s0"># platform, assuming a non-commercial application.</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0"># OpenAL seems to work pretty well universally now.</span>
    <span class="s0">require('openal')</span>

<span class="s0">class ffmpeg(package):</span>
    <span class="s0"># This package includes the ffmpeg libraries and integration.</span>
    <span class="s0"># It's a bit big, and is restricted by patents and the restrictive</span>
    <span class="s0"># GPLv3 license, which is why it is included as a separate package.</span>

    <span class="s0">config(display_name = &quot;FFMpeg multimedia decoder&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">file('libp3ffmpeg.dll', required = True)</span>

    <span class="s0">file('ffmpeg.prc', extract = True, text = &quot;&quot;&quot;</span>
<span class="s0">plugin-path $FFMPEG_ROOT</span>
<span class="s0">load-audio-type * p3ffmpeg</span>
<span class="s0">load-video-type * p3ffmpeg</span>
<span class="s0">&quot;&quot;&quot;)</span>

<span class="s0">class egg(package):</span>
    <span class="s0"># This package contains the code for reading and operating on egg</span>
    <span class="s0"># files and other model files.  Since the Packager automatically</span>
    <span class="s0"># converts egg files to bam files, this is not needed for most</span>
    <span class="s0"># Panda3D applications.</span>

    <span class="s0">config(display_name = &quot;Panda3D egg loader&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">module('panda3d.egg', required = True)</span>
    <span class="s0">file('libpandaegg.dll', required = True)</span>
    <span class="s0">file('libp3ptloader.dll', required = True)</span>

    <span class="s0">file('egg.prc', extract = True, text = &quot;&quot;&quot;</span>
<span class="s0">plugin-path $EGG_ROOT</span>
<span class="s0">load-file-type egg pandaegg</span>
<span class="s0">load-file-type p3ptloader</span>

<span class="s0"># These are excerpted from the default Confauto.prc file.</span>
<span class="s0">egg-object-type-portal          &lt;Scalar&gt; portal { 1 }</span>
<span class="s0">egg-object-type-polylight       &lt;Scalar&gt; polylight { 1 }</span>
<span class="s0">egg-object-type-seq24           &lt;Switch&gt; { 1 } &lt;Scalar&gt; fps { 24 }</span>
<span class="s0">egg-object-type-seq12           &lt;Switch&gt; { 1 } &lt;Scalar&gt; fps { 12 }</span>
<span class="s0">egg-object-type-indexed         &lt;Scalar&gt; indexed { 1 }</span>
<span class="s0">egg-object-type-seq10           &lt;Switch&gt; { 1 } &lt;Scalar&gt; fps { 10 }</span>
<span class="s0">egg-object-type-seq8            &lt;Switch&gt; { 1 } &lt;Scalar&gt; fps { 8 }</span>
<span class="s0">egg-object-type-seq6            &lt;Switch&gt; { 1 } &lt;Scalar&gt;  fps { 6 }</span>
<span class="s0">egg-object-type-seq4            &lt;Switch&gt; { 1 } &lt;Scalar&gt;  fps { 4 }</span>
<span class="s0">egg-object-type-seq2            &lt;Switch&gt; { 1 } &lt;Scalar&gt;  fps { 2 }</span>

<span class="s0">egg-object-type-binary          &lt;Scalar&gt; alpha { binary }</span>
<span class="s0">egg-object-type-dual            &lt;Scalar&gt; alpha { dual }</span>
<span class="s0">egg-object-type-glass           &lt;Scalar&gt; alpha { blend_no_occlude }</span>

<span class="s0">egg-object-type-model           &lt;Model&gt; { 1 }</span>
<span class="s0">egg-object-type-dcs             &lt;DCS&gt; { 1 }</span>
<span class="s0">egg-object-type-notouch         &lt;DCS&gt; { no_touch }</span>

<span class="s0">egg-object-type-barrier         &lt;Collide&gt; { Polyset descend }</span>
<span class="s0">egg-object-type-sphere          &lt;Collide&gt; { Sphere descend }</span>
<span class="s0">egg-object-type-invsphere       &lt;Collide&gt; { InvSphere descend }</span>
<span class="s0">egg-object-type-tube            &lt;Collide&gt; { Tube descend }</span>
<span class="s0">egg-object-type-trigger         &lt;Collide&gt; { Polyset descend intangible }</span>
<span class="s0">egg-object-type-trigger-sphere  &lt;Collide&gt; { Sphere descend intangible }</span>
<span class="s0">egg-object-type-floor           &lt;Collide&gt; { Polyset descend level }</span>
<span class="s0">egg-object-type-dupefloor       &lt;Collide&gt; { Polyset keep descend level }</span>
<span class="s0">egg-object-type-bubble          &lt;Collide&gt; { Sphere keep descend }</span>
<span class="s0">egg-object-type-ghost           &lt;Scalar&gt; collide-mask { 0 }</span>
<span class="s0">egg-object-type-glow            &lt;Scalar&gt; blend { add }</span>
<span class="s0">egg-object-type-direct-widget   &lt;Scalar&gt; collide-mask { 0x80000000 } &lt;Collide&gt; { Polyset descend }</span>
<span class="s0">&quot;&quot;&quot;)</span>

<span class="s0">class ode(package):</span>
    <span class="s0"># This package contains the code for the ODE integration.</span>
    <span class="s0"># As not every application uses the ODE layers, and to cut down</span>
    <span class="s0"># the download size, it is provided as separate package.</span>

    <span class="s0">config(display_name = &quot;Panda3D Open Dynamics Engine integration&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">module('panda3d.ode', required = True)</span>
    <span class="s0">file('libpandaode.dll', required = True)</span>

<span class="s0">class bullet(package):</span>
    <span class="s0"># This package contains the code for the Bullet integration.</span>
    <span class="s0"># As not every application uses the Bullet layers, and to cut down</span>
    <span class="s0"># the download size, it is provided as separate package.</span>

    <span class="s0">config(display_name = &quot;Panda3D Bullet integration&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">module('panda3d.bullet', required = True)</span>
    <span class="s0">file('libpandabullet.dll', required = True)</span>

<span class="s0">class physx(package):</span>
    <span class="s0"># This package contains the code for the NVIDIA PhysX integration.</span>
    <span class="s0"># As not every application uses the NVIDIA PhysX layers, and to cut down</span>
    <span class="s0"># the download size, it is provided as separate package.</span>

    <span class="s0">config(display_name = &quot;Panda3D PhysX integration&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">module('panda3d.physx', required = True)</span>
    <span class="s0">file('libpandaphysx.dll', required = True)</span>
    <span class="s0">file('physxcudart_20.dll')</span>
    <span class="s0">file('PhysXDevice.dll')</span>

<span class="s0">class ai(package):</span>
    <span class="s0"># This package contains the PandAI library for pathfinding</span>
    <span class="s0"># and seek/flee behaviors. As some games may not need this</span>
    <span class="s0"># functionality, it is provided as separate package to save</span>
    <span class="s0"># on package download size.</span>

    <span class="s0">config(display_name = &quot;Panda3D AI modules&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">module('panda3d.ai', required = True)</span>
    <span class="s0">file('libpandaai.dll', required = True)</span>

<span class="s0">class vision(package):</span>
    <span class="s0"># This package contains the code for webcam support, augmented</span>
    <span class="s0"># reality and computer vision. As many games will not need this</span>
    <span class="s0"># functionality, it is provided as separate package to save</span>
    <span class="s0"># on package download size.</span>

    <span class="s0">config(display_name = &quot;Panda3D vision modules&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">module('panda3d.vision', required = True)</span>
    <span class="s0">file('libp3vision.dll', required = True)</span>

<span class="s0">class rocket(package):</span>
    <span class="s0"># This package contains the code for libRocket integration.</span>
    <span class="s0"># As not every application uses libRocket GUI, and to cut down</span>
    <span class="s0"># the download size, it is provided as separate package.</span>

    <span class="s0">config(display_name = &quot;Panda3D libRocket support&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">file('rocket.py', extract = True, text = &quot;&quot;&quot;</span>
<span class="s0">from _rocketcore import *</span>
<span class="s0">try:</span>
    <span class="s0">from _rocketcontrols import *</span>
<span class="s0">except ImportError:</span>
    <span class="s0">pass</span>
<span class="s0">&quot;&quot;&quot;)</span>

    <span class="s0">module('panda3d.rocket', '_rocketcore', required = True)</span>
    <span class="s0">module('_rocketcontrols')</span>
    <span class="s0">file('libp3rocket.dll', required = True)</span>

<span class="s0">class vrpn(package):</span>
    <span class="s0"># This package contains the code for VRPN integration.</span>
    <span class="s0"># Most applications don't use this, which is why it's separate.</span>

    <span class="s0">config(display_name = &quot;Panda3D VRPN support&quot;)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">module('panda3d.vrpn', required = True)</span>
    <span class="s0">file('libp3vrpn.dll', required = True)</span>


<span class="s0">class packp3d(p3d):</span>
    <span class="s0"># This application is a command-line convenience for building a p3d</span>
    <span class="s0"># application out of a directory hierarchy on disk.  We build it here</span>
    <span class="s0"># into its own p3d application, to allow end-users to easily build p3d</span>
    <span class="s0"># applications using the appropriate version of Python and Panda for</span>
    <span class="s0"># the targeted runtime.</span>

    <span class="s0">config(display_name = &quot;Panda3D Application Packer&quot;,</span>
           <span class="s0">hidden = True, platform_specific = False,</span>
           <span class="s0">keep_user_env = True)</span>
    <span class="s0">require('panda3d', 'egg')</span>

    <span class="s0">mainModule('direct.p3d.packp3d')</span>

    <span class="s0">file('packp3d.prc', extract = True, text = &quot;preload-textures false&quot;)</span>


<span class="s0">class ppackage(p3d):</span>
    <span class="s0"># As above, a packaging utility.  This is the fully-general ppackage</span>
    <span class="s0"># utility, which reads pdef files (like this one!) and creates one or</span>
    <span class="s0"># more packages or p3d applications.</span>

    <span class="s0">config(display_name = &quot;Panda3D General Package Utility&quot;,</span>
           <span class="s0">hidden = True, platform_specific = False,</span>
           <span class="s0">keep_user_env = True)</span>
    <span class="s0">require('panda3d', 'egg')</span>

    <span class="s0">mainModule('direct.p3d.ppackage')</span>

    <span class="s0">file('ppackage.prc', extract = True, text = &quot;preload-textures false&quot;)</span>


<span class="s0">class ppatcher(p3d):</span>
    <span class="s0"># A handy utility to go along with ppackage.  This builds</span>
    <span class="s0"># patchfiles as needed in the directory structure created by</span>
    <span class="s0"># ppackage.</span>

    <span class="s0">config(display_name = &quot;Panda3D Patch Maker&quot;,</span>
           <span class="s0">hidden = True, platform_specific = False,</span>
           <span class="s0">keep_user_env = True)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">mainModule('direct.p3d.ppatcher')</span>


<span class="s0">class pmerge(p3d):</span>
    <span class="s0"># Another handy utility to go along with ppackage.  This</span>
    <span class="s0"># merges multiple directory structures as created by</span>
    <span class="s0"># ppackage into a single one.</span>

    <span class="s0">config(display_name = &quot;Panda3D Package Merger&quot;,</span>
           <span class="s0">hidden = True, platform_specific = False,</span>
           <span class="s0">keep_user_env = True)</span>
    <span class="s0">require('panda3d')</span>

    <span class="s0">mainModule('direct.p3d.pmerge')</span>


<span class="s0">class pdeploy(p3d):</span>
    <span class="s0"># This utility can distribute a game in the form of</span>
    <span class="s0"># a standalone executable or a graphical installer.</span>

    <span class="s0">config(display_name = &quot;Panda3D Deployment Tool&quot;,</span>
           <span class="s0">hidden = True, platform_specific = False,</span>
           <span class="s0">keep_user_env = True)</span>
    <span class="s0">require('panda3d', 'morepy')</span>

    <span class="s0">mainModule('direct.p3d.pdeploy')</span>

</pre>
</body>
</html>