<html>
<head>
<title>DirectGrid.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #cf8e6d;}
.s2 { color: #bcbec4;}
.s3 { color: #2aacb8;}
.s4 { color: #7a7e85;}
.s5 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
DirectGrid.py</font>
</center></td></tr></table>
<pre>
<span class="s1">from </span><span class="s0">panda3d</span><span class="s2">.</span><span class="s0">core </span><span class="s1">import </span><span class="s2">*</span>
<span class="s1">from </span><span class="s0">direct</span><span class="s2">.</span><span class="s0">showbase</span><span class="s2">.</span><span class="s0">DirectObject </span><span class="s1">import </span><span class="s0">DirectObject</span>
<span class="s1">from </span><span class="s2">.</span><span class="s0">DirectUtil </span><span class="s1">import </span><span class="s2">*</span>
<span class="s1">from </span><span class="s2">.</span><span class="s0">DirectGeometry </span><span class="s1">import </span><span class="s2">*</span>

<span class="s1">class </span><span class="s0">DirectGrid</span><span class="s2">(</span><span class="s0">NodePath</span><span class="s2">, </span><span class="s0">DirectObject</span><span class="s2">):</span>
    <span class="s1">def </span><span class="s0">__init__</span><span class="s2">(</span><span class="s0">self</span><span class="s2">,</span><span class="s0">gridSize</span><span class="s2">=</span><span class="s3">100.0</span><span class="s2">,</span><span class="s0">gridSpacing</span><span class="s2">=</span><span class="s3">5.0</span><span class="s2">,</span><span class="s0">planeColor</span><span class="s2">=(</span><span class="s3">0.5</span><span class="s2">,</span><span class="s3">0.5</span><span class="s2">,</span><span class="s3">0.5</span><span class="s2">,</span><span class="s3">0.5</span><span class="s2">),</span><span class="s0">parent </span><span class="s2">= </span><span class="s1">None</span><span class="s2">):</span>
        <span class="s4"># Initialize superclass</span>
        <span class="s0">NodePath</span><span class="s2">.</span><span class="s0">__init__</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s5">'DirectGrid'</span><span class="s2">)</span>
        <span class="s4"># Don't wireframe or light</span>
        <span class="s0">useDirectRenderStyle</span><span class="s2">(</span><span class="s0">self</span><span class="s2">)</span>

        <span class="s4"># Load up grid parts to initialize grid object</span>
        <span class="s4"># Polygon used to mark grid plane</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">gridBack </span><span class="s2">= </span><span class="s0">loader</span><span class="s2">.</span><span class="s0">loadModel</span><span class="s2">(</span><span class="s5">'models/misc/gridBack'</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">gridBack</span><span class="s2">.</span><span class="s0">reparentTo</span><span class="s2">(</span><span class="s0">self</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">gridBack</span><span class="s2">.</span><span class="s0">setColor</span><span class="s2">(*</span><span class="s0">planeColor</span><span class="s2">)</span>

        <span class="s4"># Grid Lines</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">lines </span><span class="s2">= </span><span class="s0">self</span><span class="s2">.</span><span class="s0">attachNewNode</span><span class="s2">(</span><span class="s5">'gridLines'</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">minorLines </span><span class="s2">= </span><span class="s0">LineNodePath</span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">lines</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">minorLines</span><span class="s2">.</span><span class="s0">lineNode</span><span class="s2">.</span><span class="s0">setName</span><span class="s2">(</span><span class="s5">'minorLines'</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">minorLines</span><span class="s2">.</span><span class="s0">setColor</span><span class="s2">(</span><span class="s0">VBase4</span><span class="s2">(</span><span class="s3">0.3</span><span class="s2">, </span><span class="s3">0.55</span><span class="s2">, </span><span class="s3">1</span><span class="s2">, </span><span class="s3">1</span><span class="s2">))</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">minorLines</span><span class="s2">.</span><span class="s0">setThickness</span><span class="s2">(</span><span class="s3">1</span><span class="s2">)</span>

        <span class="s0">self</span><span class="s2">.</span><span class="s0">majorLines </span><span class="s2">= </span><span class="s0">LineNodePath</span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">lines</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">majorLines</span><span class="s2">.</span><span class="s0">lineNode</span><span class="s2">.</span><span class="s0">setName</span><span class="s2">(</span><span class="s5">'majorLines'</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">majorLines</span><span class="s2">.</span><span class="s0">setColor</span><span class="s2">(</span><span class="s0">VBase4</span><span class="s2">(</span><span class="s3">0.3</span><span class="s2">, </span><span class="s3">0.55</span><span class="s2">, </span><span class="s3">1</span><span class="s2">, </span><span class="s3">1</span><span class="s2">))</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">majorLines</span><span class="s2">.</span><span class="s0">setThickness</span><span class="s2">(</span><span class="s3">5</span><span class="s2">)</span>

        <span class="s0">self</span><span class="s2">.</span><span class="s0">centerLines </span><span class="s2">= </span><span class="s0">LineNodePath</span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">lines</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">centerLines</span><span class="s2">.</span><span class="s0">lineNode</span><span class="s2">.</span><span class="s0">setName</span><span class="s2">(</span><span class="s5">'centerLines'</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">centerLines</span><span class="s2">.</span><span class="s0">setColor</span><span class="s2">(</span><span class="s0">VBase4</span><span class="s2">(</span><span class="s3">1</span><span class="s2">, </span><span class="s3">0</span><span class="s2">, </span><span class="s3">0</span><span class="s2">, </span><span class="s3">0</span><span class="s2">))</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">centerLines</span><span class="s2">.</span><span class="s0">setThickness</span><span class="s2">(</span><span class="s3">3</span><span class="s2">)</span>

        <span class="s4"># Small marker to hilight snap-to-grid point</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapMarker </span><span class="s2">= </span><span class="s0">loader</span><span class="s2">.</span><span class="s0">loadModel</span><span class="s2">(</span><span class="s5">'models/misc/sphere'</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapMarker</span><span class="s2">.</span><span class="s0">node</span><span class="s2">().</span><span class="s0">setName</span><span class="s2">(</span><span class="s5">'gridSnapMarker'</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapMarker</span><span class="s2">.</span><span class="s0">reparentTo</span><span class="s2">(</span><span class="s0">self</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapMarker</span><span class="s2">.</span><span class="s0">setColor</span><span class="s2">(</span><span class="s3">1</span><span class="s2">, </span><span class="s3">0</span><span class="s2">, </span><span class="s3">0</span><span class="s2">, </span><span class="s3">1</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapMarker</span><span class="s2">.</span><span class="s0">setScale</span><span class="s2">(</span><span class="s3">0.3</span><span class="s2">)</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapPos </span><span class="s2">= </span><span class="s0">Point3</span><span class="s2">(</span><span class="s3">0</span><span class="s2">)</span>

        <span class="s4"># Initialize Grid characteristics</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">fXyzSnap </span><span class="s2">= </span><span class="s3">1</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">fHprSnap </span><span class="s2">= </span><span class="s3">1</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">gridSize </span><span class="s2">= </span><span class="s0">gridSize</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing </span><span class="s2">= </span><span class="s0">gridSpacing</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapAngle </span><span class="s2">= </span><span class="s3">15.0</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">enable</span><span class="s2">(</span><span class="s0">parent </span><span class="s2">= </span><span class="s0">parent</span><span class="s2">)</span>

    <span class="s1">def </span><span class="s0">enable</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">parent </span><span class="s2">= </span><span class="s1">None</span><span class="s2">):</span>
        <span class="s1">if </span><span class="s0">parent</span><span class="s2">:</span>
            <span class="s0">self</span><span class="s2">.</span><span class="s0">reparentTo</span><span class="s2">(</span><span class="s0">parent</span><span class="s2">)</span>
        <span class="s1">else</span><span class="s2">:</span>
            <span class="s0">self</span><span class="s2">.</span><span class="s0">reparentTo</span><span class="s2">(</span><span class="s0">base</span><span class="s2">.</span><span class="s0">direct</span><span class="s2">.</span><span class="s0">group</span><span class="s2">)</span>

        <span class="s0">self</span><span class="s2">.</span><span class="s0">updateGrid</span><span class="s2">()</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">fEnabled </span><span class="s2">= </span><span class="s3">1</span>

    <span class="s1">def </span><span class="s0">disable</span><span class="s2">(</span><span class="s0">self</span><span class="s2">):</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">detachNode</span><span class="s2">()</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">fEnabled </span><span class="s2">= </span><span class="s3">0</span>

    <span class="s1">def </span><span class="s0">toggleGrid</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">parent </span><span class="s2">= </span><span class="s1">None</span><span class="s2">):</span>
        <span class="s1">if </span><span class="s0">self</span><span class="s2">.</span><span class="s0">fEnabled</span><span class="s2">:</span>
            <span class="s0">self</span><span class="s2">.</span><span class="s0">disable</span><span class="s2">()</span>
        <span class="s1">else</span><span class="s2">:</span>
            <span class="s0">self</span><span class="s2">.</span><span class="s0">enable</span><span class="s2">(</span><span class="s0">parent </span><span class="s2">= </span><span class="s0">parent</span><span class="s2">)</span>

    <span class="s1">def </span><span class="s0">isEnabled</span><span class="s2">(</span><span class="s0">self</span><span class="s2">):</span>
        <span class="s1">return </span><span class="s0">self</span><span class="s2">.</span><span class="s0">fEnabled</span>

    <span class="s1">def </span><span class="s0">updateGrid</span><span class="s2">(</span><span class="s0">self</span><span class="s2">):</span>
        <span class="s4"># Update grid lines based upon current grid spacing and grid size</span>
        <span class="s4"># First reset existing grid lines</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">minorLines</span><span class="s2">.</span><span class="s0">reset</span><span class="s2">()</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">majorLines</span><span class="s2">.</span><span class="s0">reset</span><span class="s2">()</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">centerLines</span><span class="s2">.</span><span class="s0">reset</span><span class="s2">()</span>

        <span class="s4"># Now redraw lines</span>
        <span class="s0">numLines </span><span class="s2">= </span><span class="s0">int</span><span class="s2">(</span><span class="s0">math</span><span class="s2">.</span><span class="s0">ceil</span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSize</span><span class="s2">/</span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">))</span>
        <span class="s0">scaledSize </span><span class="s2">= </span><span class="s0">numLines </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span>

        <span class="s0">center </span><span class="s2">= </span><span class="s0">self</span><span class="s2">.</span><span class="s0">centerLines</span>
        <span class="s0">minor </span><span class="s2">= </span><span class="s0">self</span><span class="s2">.</span><span class="s0">minorLines</span>
        <span class="s0">major </span><span class="s2">= </span><span class="s0">self</span><span class="s2">.</span><span class="s0">majorLines</span>
        <span class="s1">for </span><span class="s0">i </span><span class="s1">in </span><span class="s0">range</span><span class="s2">(-</span><span class="s0">numLines</span><span class="s2">, </span><span class="s0">numLines </span><span class="s2">+ </span><span class="s3">1</span><span class="s2">):</span>
            <span class="s1">if </span><span class="s0">i </span><span class="s2">== </span><span class="s3">0</span><span class="s2">:</span>
                <span class="s0">center</span><span class="s2">.</span><span class="s0">moveTo</span><span class="s2">(</span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, -</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                <span class="s0">center</span><span class="s2">.</span><span class="s0">drawTo</span><span class="s2">(</span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                <span class="s0">center</span><span class="s2">.</span><span class="s0">moveTo</span><span class="s2">(-</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                <span class="s0">center</span><span class="s2">.</span><span class="s0">drawTo</span><span class="s2">(</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
            <span class="s1">else</span><span class="s2">:</span>
                <span class="s1">if </span><span class="s2">(</span><span class="s0">i </span><span class="s2">% </span><span class="s3">5</span><span class="s2">) == </span><span class="s3">0</span><span class="s2">:</span>
                    <span class="s0">major</span><span class="s2">.</span><span class="s0">moveTo</span><span class="s2">(</span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, -</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                    <span class="s0">major</span><span class="s2">.</span><span class="s0">drawTo</span><span class="s2">(</span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                    <span class="s0">major</span><span class="s2">.</span><span class="s0">moveTo</span><span class="s2">(-</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                    <span class="s0">major</span><span class="s2">.</span><span class="s0">drawTo</span><span class="s2">(</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                <span class="s1">else</span><span class="s2">:</span>
                    <span class="s0">minor</span><span class="s2">.</span><span class="s0">moveTo</span><span class="s2">(</span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, -</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                    <span class="s0">minor</span><span class="s2">.</span><span class="s0">drawTo</span><span class="s2">(</span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                    <span class="s0">minor</span><span class="s2">.</span><span class="s0">moveTo</span><span class="s2">(-</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>
                    <span class="s0">minor</span><span class="s2">.</span><span class="s0">drawTo</span><span class="s2">(</span><span class="s0">scaledSize</span><span class="s2">, </span><span class="s0">i </span><span class="s2">* </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">, </span><span class="s3">0</span><span class="s2">)</span>

        <span class="s0">center</span><span class="s2">.</span><span class="s0">create</span><span class="s2">()</span>
        <span class="s0">minor</span><span class="s2">.</span><span class="s0">create</span><span class="s2">()</span>
        <span class="s0">major</span><span class="s2">.</span><span class="s0">create</span><span class="s2">()</span>
        <span class="s1">if </span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridBack</span><span class="s2">):</span>
            <span class="s0">self</span><span class="s2">.</span><span class="s0">gridBack</span><span class="s2">.</span><span class="s0">setScale</span><span class="s2">(</span><span class="s0">scaledSize</span><span class="s2">)</span>

    <span class="s1">def </span><span class="s0">setXyzSnap</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">fSnap</span><span class="s2">):</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">fXyzSnap </span><span class="s2">= </span><span class="s0">fSnap</span>

    <span class="s1">def </span><span class="s0">getXyzSnap</span><span class="s2">(</span><span class="s0">self</span><span class="s2">):</span>
        <span class="s1">return </span><span class="s0">self</span><span class="s2">.</span><span class="s0">fXyzSnap</span>

    <span class="s1">def </span><span class="s0">setHprSnap</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">fSnap</span><span class="s2">):</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">fHprSnap </span><span class="s2">= </span><span class="s0">fSnap</span>

    <span class="s1">def </span><span class="s0">getHprSnap</span><span class="s2">(</span><span class="s0">self</span><span class="s2">):</span>
        <span class="s1">return </span><span class="s0">self</span><span class="s2">.</span><span class="s0">fHprSnap</span>

    <span class="s1">def </span><span class="s0">computeSnapPoint</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">point</span><span class="s2">):</span>
        <span class="s4"># Start of with current point</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapPos</span><span class="s2">.</span><span class="s0">assign</span><span class="s2">(</span><span class="s0">point</span><span class="s2">)</span>
        <span class="s4"># Snap if necessary</span>
        <span class="s1">if </span><span class="s0">self</span><span class="s2">.</span><span class="s0">fXyzSnap</span><span class="s2">:</span>
            <span class="s0">self</span><span class="s2">.</span><span class="s0">snapPos</span><span class="s2">.</span><span class="s0">set</span><span class="s2">(</span>
                <span class="s0">ROUND_TO</span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">snapPos</span><span class="s2">[</span><span class="s3">0</span><span class="s2">], </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">),</span>
                <span class="s0">ROUND_TO</span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">snapPos</span><span class="s2">[</span><span class="s3">1</span><span class="s2">], </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">),</span>
                <span class="s0">ROUND_TO</span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">snapPos</span><span class="s2">[</span><span class="s3">2</span><span class="s2">], </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span><span class="s2">))</span>

        <span class="s4"># Move snap marker to this point</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapMarker</span><span class="s2">.</span><span class="s0">setPos</span><span class="s2">(</span><span class="s0">self</span><span class="s2">.</span><span class="s0">snapPos</span><span class="s2">)</span>

        <span class="s4"># Return the hit point</span>
        <span class="s1">return </span><span class="s0">self</span><span class="s2">.</span><span class="s0">snapPos</span>

    <span class="s1">def </span><span class="s0">computeSnapAngle</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">angle</span><span class="s2">):</span>
        <span class="s1">return </span><span class="s0">ROUND_TO</span><span class="s2">(</span><span class="s0">angle</span><span class="s2">, </span><span class="s0">self</span><span class="s2">.</span><span class="s0">snapAngle</span><span class="s2">)</span>

    <span class="s1">def </span><span class="s0">setSnapAngle</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">angle</span><span class="s2">):</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">snapAngle </span><span class="s2">= </span><span class="s0">angle</span>

    <span class="s1">def </span><span class="s0">getSnapAngle</span><span class="s2">(</span><span class="s0">self</span><span class="s2">):</span>
        <span class="s1">return </span><span class="s0">self</span><span class="s2">.</span><span class="s0">snapAngle</span>

    <span class="s1">def </span><span class="s0">setGridSpacing</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">spacing</span><span class="s2">):</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing </span><span class="s2">= </span><span class="s0">spacing</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">updateGrid</span><span class="s2">()</span>

    <span class="s1">def </span><span class="s0">getGridSpacing</span><span class="s2">(</span><span class="s0">self</span><span class="s2">):</span>
        <span class="s1">return </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSpacing</span>

    <span class="s1">def </span><span class="s0">setGridSize</span><span class="s2">(</span><span class="s0">self</span><span class="s2">, </span><span class="s0">size</span><span class="s2">):</span>
        <span class="s4"># Set size of grid back and redraw lines</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">gridSize </span><span class="s2">= </span><span class="s0">size</span>
        <span class="s0">self</span><span class="s2">.</span><span class="s0">updateGrid</span><span class="s2">()</span>

    <span class="s1">def </span><span class="s0">getGridSize</span><span class="s2">(</span><span class="s0">self</span><span class="s2">):</span>
        <span class="s1">return </span><span class="s0">self</span><span class="s2">.</span><span class="s0">gridSize</span>
</pre>
</body>
</html>